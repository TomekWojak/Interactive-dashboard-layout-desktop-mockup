document.addEventListener("DOMContentLoaded",function(){function t(e){e.preventDefault(),i.forEach(function(e){return e.classList.remove("active")}),e.target.classList.add("active")}function a(){h.classList.add("active")}function n(){b.value="",_.forEach(function(e){return e.classList.toggle("btn-moved")}),b.classList.toggle("active")}function s(){u.classList.add("active"),p.classList.remove("visible")}function o(e){e.classList.add("hidden"),e.classList.remove("active"),setTimeout(function(){e.classList.remove("hidden")},300)}function r(){y.classList.add("active")}var c=document.querySelector(".statistics__chart"),e=document.querySelector(".report__btn"),i=document.querySelectorAll(".nav__link"),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=[{message:"Welcome to your dashboard!",time:"1 hour ago",from:"System"},{message:"You have 2 new messages",time:"1 hour ago",from:"Nick J."},{message:"Your report is ready to download",time:"2 hours ago",from:"System"},{message:"First steps in the Dashboard",time:"3 hours ago",from:"Jerry from Dashboard"},{message:"Update: Dashboard v2.1",time:"4 hours ago",from:"System"},{message:"New payment: +$1,200 PayPal",time:"4 hour ago",from:"System"},{message:"The transfer has been completed",time:"4 hours ago",from:"John D"},{message:"Reminder: Rebalance portfolio",time:"5 hours ago",from:"System"},{message:"New: Analytics in PRO!",time:"6 hour ago",from:"Daniel from Dashboard"},{message:"Contact details confirmation",time:"8 hour ago",from:"Support Team"}],u=document.querySelector(".notifications-box"),m=document.querySelector(".header__panel"),f=document.querySelector(".notifications-box__close"),h=document.querySelector(".tasks"),p=document.querySelector(".dot"),g=document.querySelector(".notifications-box"),v=document.querySelector(".header__btn--bell"),_=[document.querySelector(".header__btn--search-engine"),document.querySelector(".header__pro-subscribtion-btn")],y=document.querySelector(".user-panel"),b=document.querySelector(".header__input");function L(e,a){e.addEventListener("mouseover",function(e){var t=Math.floor(20*Math.random());a.style.top=t-e.clientY/10+"px",a.style.left=t-e.clientX/10+"px",a.style.opacity=1}),e.addEventListener("mouseleave",function(){a.style.opacity=0})}var S,q,x,E=function(e){var t=e.querySelector(".tasks__target"),a=parseInt(t.textContent.slice(4)),n=e.querySelector(".tasks__progress-bar"),t=(k(e,t,a),parseInt(e.dataset.number));n.style.width=100/a*t+"%"},k=function(e,t,a){var n=parseInt(e.dataset.number);a<=n||(n=T(e),e=e.querySelector(".tasks__status"),t.textContent="".concat(n," / ").concat(a),w(t),M(e))},w=function(e){setTimeout(function(){e.classList.add("hidden")},300)},M=function(e){var t=e.querySelector("i");setTimeout(function(){t.classList.add("visible")},600)},T=function(e){var t=e.dataset.number;return e.dataset.number=++t};S=[document.querySelector(".progress-ring__progress"),document.querySelector(".progress-ring__progress-bg")],q=(parseFloat(document.querySelector(".progress-ring tspan:first-of-type").textContent.replace(",",".").slice(1,-1))/parseFloat(document.querySelector(".progress-ring tspan:last-of-type").textContent.replace(",",".").slice(3,-1))).toFixed(5),x=Math.floor(314*(1-q)),setTimeout(function(){S.forEach(function(e){e.style.strokeDashoffset=x,e.style.strokeWidth=6})},100),(()=>{for(var o=0;o<d.length;o++)(()=>{var e=document.createElement("div"),t=document.createElement("div"),a=document.createElement("span"),n=document.createElement("div"),s=(e.classList.add("statistics__box"),a.classList.add("statistics__month"),t.classList.add("statistics__column"),n.classList.add("statistics__tooltip"),Math.floor(80*Math.random()+20));n.textContent="Total revenue: $".concat(s,"00"),n.style.opacity=0,a.textContent=d[o],e.append(t),e.append(n),setTimeout(function(){t.style.height=s+"px"},100),e.append(a),c.append(e),L(t,n)})();for(var e=document.querySelector(".notifications-box__body"),t=[],a=0;a<l.length;a++){var n=Math.floor(Math.random()*l.length);if(0!==n?setTimeout(function(){p.classList.add("visible")},300):p.classList.remove("visible"),t.includes(n))return;t.push(n);var s=document.createElement("div");s.classList.add("notifications-box__notification"),s.innerHTML='<div class="notifications-box__head">\n                            <span class="notifications-box__header">'.concat(l[n].message,'</span>\n                            <span class="notifications-box__time">').concat(l[n].time,'</span>\n                        </div>\n                        <p class="notifications-box__author">').concat(l[n].from,"</p>"),e.append(s)}})(),window.addEventListener("click",function(e){!g.contains(e.target)&&e.target!==v&&g.classList.contains("active")&&o(u)}),window.addEventListener("click",function(e){e.target!==_[0]&&e.target!==b&&(b.value="",_.forEach(function(e){return e.classList.remove("btn-moved")}),b.classList.remove("active"))}),window.addEventListener("click",function(e){e.target===h||h.contains(e.target)||e.target.matches(".header__btn--tasks")||!h.classList.contains("active")||o(h)}),window.addEventListener("click",function(e){y.contains(e.target)||e.target.matches(".header__btn--user")||!y.classList.contains("active")||o(y)}),f.addEventListener("click",function(){o(u)}),m.addEventListener("click",function(e){var t;e.target.matches(".header__btn--bell")?s():e.target.matches(".header__btn--search-engine")?n():e.target.matches(".header__btn--user")?r():e.target.matches(".header__pro-subscribtion-btn")?(t=(t=e.target).dataset.name,t=h.querySelector('[data-name="'.concat(t,'"]')),E(t)):e.target.matches(".header__btn--tasks")&&a()}),i.forEach(function(e){return e.addEventListener("click",t)}),e.addEventListener("click",function(e){var t=document.createElement("span"),a=(t.classList.add("circle"),e.target.getBoundingClientRect()),n=e.clientY-a.top+"px",a=e.clientX-a.left+"px";t.style.top=n,t.style.left=a,e.target.append(t),setTimeout(function(){t.remove()},300)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVOYXZMaW5rcyIsImUiLCJzZWFyY2hJbnB1dCIsImNsYXNzTGlzdCIsImxpbmtzIiwiZm9yRWFjaCIsImxpbmsiLCJyZW1vdmUiLCJ0YXJnZXQiLCJoaWRlU2VhcmNoZXIiLCJhZGQiLCJwYW5lbCIsInRhc2tzIiwic2hvd1VzZXJQYW5lbCIsImhlYWRlckJ0bnMiLCJidG4iLCJ0b2dnbGUiLCJzaG93TXNnUGFuZWwiLCJtZXNzYWdlc1BhbmVsIiwic2V0UHJvZ3Jlc3NCYXJXaWR0aCIsImJlbGxEb3QiLCJkaXZpZGVuZCIsInBhcnNlSW50IiwiaGlkZVBhbmVsIiwicHJvZ3Jlc3NCYXIiLCJjdXJyVGFzayIsImhhbmRsZVRha3NTdGF0ZSIsInRhc2tzVGFyZ2V0Iiwic2V0VGltZW91dCIsInVzZXJQYW5lbCIsInRhc2tQcm9ncmVzc051bSIsInVwZGF0ZVRhc2tOdW1iZXIiLCJjaGFydCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXBvcnRCdG4iLCJmcm9tIiwibWVzc2FnZSIsInRpbWUiLCJoZWFkZXJQYW5lbCIsImNsb3NlSGVhZGVyUGFuZWxCdG4iLCJub3RpZmljYXRpb25zQmVsbCIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlSGVhZGVyUGFuZWwiLCJtYXRjaGVzIiwic2hvd1Rhc2tzIiwibm90aWZpY2F0aW9uc0JveCIsImhhbmRsZVNlYXJjaElucHV0IiwiaGFuZGxlVG9vbHRpcHMiLCJjb2x1bW4iLCJ0b29sdGlwIiwicG9zaXRpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzdHlsZSIsInRvcCIsImNsaWVudFkiLCJsZWZ0IiwiY2xpZW50WCIsIm9wYWNpdHkiLCJib3giLCJlYXJuaW5nc1BlcmNlbnRhZ2UiLCJ0YXNrc1N0YXR1cyIsImNoZWNrSWNvbiIsInRhc2tzTnVtIiwidGV4dENvbnRlbnQiLCJzbGljZSIsImRhdGFzZXQiLCJudW1iZXIiLCJ3aWR0aCIsImkiLCJub3RpZmljYXRpb25zRGF0YSIsImxlbmd0aCIsImNvbmNhdCIsImhpZGVUYXJnZXQiLCJzaG93SWZDaGVja2VkIiwiaW5jbHVkZXMiLCJudW0iLCJhcnIiLCJub3RpZmljYXRpb24iLCJpbm5lckhUTUwiLCJub3RpZmljYXRpb25zQm9keSIsImVhcm5pbmdzIiwicGFyc2VGbG9hdCIsImFwcGVuZCIsImNyZWF0ZU5vdGlmaWNhdGlvbnMiLCJyZXBsYWNlIiwidG9GaXhlZCIsInJpbmdzIiwicmluZyIsImZpbmFsT2Zmc2V0IiwibW9udGhzIiwiY3JlYXRlRWxlbWVudCIsIm1vbnRoTmFtZSIsInJhbmRvbU51bWJlciIsImJ0bkNsaWNrQW5pbWF0aW9uIiwiaGVpZ2h0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNpcmNsZSIsInB1c2giLCJjcmVhdGVDb2x1bW5zIiwiX2xvb3AiLCJ3aW5kb3ciLCJjb250YWlucyIsImhhbmRsZVRhc2tzIiwiZWxlbWVudERhdGEiLCJlbCIsIm5hbWUiLCJjdXJyZW50VGFzayJdLCJtYXBwaW5ncyI6IkFBQUFBLFNBQVNDLGlCQUFpQixtQkFBb0IsV0E2R2tCLFNBQUFDLEVBQUFDLEdBdEI5REEsRUF1QkFDLGVBQVlDLEVBQ2JDLEVBQUNDLFFBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBSCxVQUFBSSxPQUFBLFFBQUEsQ0FBQSxDQUFBLEVBQ0ROLEVBQUFPLE9BQU1DLFVBQWVDLElBQUEsUUFBZkQsQ0F0Qk4sQ0FvQ1FOLFNBQU5RLElBckJEQyxFQXNCR1QsVUFBSU8sSUFBQSxRQUFBLENBckJSLENBdUJzQixTQUFoQkcsSUFyQkxYLEVBc0JVQyxNQUFBQSxHQUNYVyxFQUFDVCxRQUFBLFNBQUFVLEdBQUEsT0FBQUEsRUFBQVosVUFBQWEsT0FBQSxXQUFBLENBQUEsQ0FBQSxFQXJCQWQsRUFBWUMsVUFBVWEsT0FBTyxRQUFRLENBQ3RDLENBNkJBLFNBQUFDLElBRUFDLEVBQU1DLFVBQW1CVCxJQUFHLFFBQXRCUyxFQXZCTEMsRUF3Qk1DLFVBQVdkLE9BQUcsU0FBQSxDQXZCckIsQ0F5QmtCZSxTQUFqQkMsRUFBaUJELEdBdkJqQlgsRUF3Qk1hLFVBQUFBLElBQWNDLFFBQVEsRUF2QjVCZCxFQXlCQWUsVUFBQUEsT0FBZ0JELFFBQVVFLEVBdkIxQkMsV0EwQkFKLFdBQ0FiLEVBQUFSLFVBQUFJLE9BQUEsUUFBQSxDQUNELEVBQUEsR0FBTW1CLENBekJOLENBNEJvQixTQUFuQmIsSUExQkFnQixFQTRCQUMsVUFBa0JDLElBQUFBLFFBQUFBLENBM0JuQixDQWxJQSxJQUFNQyxFQUFRbEMsU0FBU21DLGNBQWMsb0JBQW9CLEVBRDFEbkMsRUFBU0MsU0FBaUJrQyxjQUFBLGNBQW9CLEVBQ3ZDRCxFQUFRbEMsU0FBU21DLGlCQUFjLFlBQUEsRUFDL0JDLEVBQVMsQ0FDZixNQUNBLE1BY0EsTUFWQyxNQUNBLE1BQ0EsTUFhQSxNQVhBLE1BQ0EsTUFDQSxNQWNBLE1BWkEsT0FnQkNDLEVBQU0sQ0FDUCxDQWJDQyxRQWVPLDZCQWRQQyxLQWVJLGFBZEpGLEtBZUksUUFDTCxFQWRBLENBQ0NDLFFBZ0JNLDBCQWZOQyxLQWdCSSxhQUNKRixLQUNELFNBaEJBLEVBQ0EsQ0FDQ0MsUUFpQk0sbUNBQ05DLEtBQ0QsY0FqQkNGLEtBa0JBQyxRQWpCRCxFQUNBLENBbUJDQSxRQUNELCtCQWxCQ0MsS0FtQkFELGNBbEJBRCxLQW1CSSxzQkFsQkwsRUFvQkEsQ0FsQkNDLFFBb0JPLHlCQW5CUEMsS0FvQkksY0FuQkpGLEtBb0JJLFFBQ0wsRUFuQkEsQ0FDQ0MsUUFxQk0sOEJBcEJOQyxLQXFCSSxhQUNKRixLQUNELFFBQ0QsRUFDQSxDQUNBQyxRQUFNRSxrQ0FDTkQsS0FBTUUsY0FHTkosS0FBTXZCLFFBQ04sRUFDQSxDQUNBd0IsUUFBTUksZ0NBQ05ILEtBQU12QixjQUlOcUIsS0FBTU4sUUFDTixFQUNBLENBMUJFTyxRQTJCQ0sseUJBMUJESixLQTJCSSxhQTFCSkYsS0EwQmtCLHVCQXpCbkIsRUFDQSxDQTBCQUMsUUFBQSwrQkFDREMsS0FBTUssYUF4QkpQLEtBeUJJLGNBeEJMLEdBNEJDakIsRUFBa0JwQixTQUFTbUMsY0FBQSxvQkFBdUIsRUFDbERwQixFQUFlZixTQUFBbUMsY0FBQSxnQkFBQSxFQUNmTSxFQUFtQkksU0FBUVYsY0F4QjVCLDJCQUNELEVBMEJFVyxFQUFTOUMsU0FBRW1DLGNBQUEsUUFBQSxFQUNaYixFQUFBdEIsU0FBQW1DLGNBQUEsTUFBQSxFQUNBWSxFQUFBL0MsU0FBQW1DLGNBQUEsb0JBQUEsRUFDS1csRUFBQUEsU0FBU0EsY0FBUyxvQkFBQSxFQUN2QmhDLEVBQWdCRixDQUNqQlosU0FBQ21DLGNBQUEsNkJBQUEsRUFDRG5DLFNBQU1nRCxjQUFpQiwrQkFBUyxHQUUvQmhDLEVBQVdULFNBQVE0QixjQUFJLGFBQUEsRUFBQS9CLEVBQVNDLFNBQVVhLGNBQU8sZ0JBQVksRUF3THZDLFNBQWpCK0IsRUFBa0JDLEVBQVFDLEdBQy9CRCxFQUFPakQsaUJBQWlCLFlBQWEsU0FBQ0UsR0FDckMsSUFBTWlELEVBQVdDLEtBQUtDLE1BQXNCLEdBQWhCRCxLQUFLRSxPQUFPLENBQU0sRUFDOUNKLEVBQVFLLE1BQU1DLElBQU1MLEVBQVdqRCxFQUFFdUQsUUFBVSxHQUFLLEtBQ2hEUCxFQUFRSyxNQUFNRyxLQUFPUCxFQUFXakQsRUFBRXlELFFBQVUsR0FBSyxLQUNqRFQsRUFBUUssTUFBTUssUUFBVSxDQUN6QixDQUFDLEVBQ0RYLEVBQU9qRCxpQkFBaUIsYUFBYyxXQUNyQ2tELEVBQVFLLE1BQU1LLFFBQVUsQ0FDekIsQ0FBQyxDQUNGLENBaktBLElBd0lFQyxFQWlCQUMsRUFDQVosRUE3SEQ5QixFQUFrQjJDLFNBQUFBLEdBNUJsQixJQThCQ0MsRUFBVTVELEVBQWM4QixjQUFVLGdCQUFBLEVBQ2hDK0IsRUFBSTFDLFNBQUFLLEVBQUFzQyxZQUFBQyxNQUFBLENBQUEsQ0FBQSxFQUNQMUMsRUFBQUMsRUFBQVEsY0FBQSxzQkFBQSxFQUlBUixHQS9CQUMsRUE2QlVELEVBQVMwQyxFQUFjSCxDQUFBLEVBRWhCSSxTQUFZM0MsRUFBQTBDLFFBQUFDLE1BQUEsR0E1QjdCNUMsRUE2QlU4QixNQUFBZSxNQVJDLElBUURMLEVBQUFsQyxFQUFBLEdBNUJYLEVBQ01KLEVBQWtCLFNBQUNELEVBQVVFLEVBQWFxQyxHQThCaEQsSUFBQWxDLEVBQUFSLFNBQUFHLEVBQUEwQyxRQUFBQyxNQUFBLEVBRXdCSixHQUF2QmxDLElBM0JBQSxFQWdDZ0J3QyxFQUFJQyxDQUFrQkMsRUFFckNWLEVBQWVyQyxFQUFBUSxjQUFBLGdCQUFBLEVBL0JoQk4sRUFnQ0VDLFlBQVcsR0FBQTZDLE9BQU0zQyxFQUFBLEtBQUEsRUFBQTJDLE9BQUFULENBQUEsRUEvQm5CVSxFQWdDR3RELENBQVFqQixFQS9CWHdFLEVBZ0NTYixDQUFBLEVBL0JWLEVBQ01ZLEVBZ0NLdkUsU0FBQUEsR0EvQlZ5QixXQWdDQyxXQS9CQUQsRUFnQ1FpRCxVQUFTQyxJQUFNLFFBQUEsQ0EvQnhCLEVBQUcsR0FnQ0ZDLENBL0JGLEVBaUNFQyxFQUFhNUUsU0FBQUEsR0EvQmQsSUFpQ0M0RSxFQUFhQyxFQUFTL0MsY0FBQSxHQUFBLEVBaEN2QkwsV0FzQ0NxRCxXQXJDQWxCLEVBc0NENUQsVUFBQU8sSUFBQSxTQUFBLENBQ0QsRUFBQyxHQUFBLENBckNELEVBd0NDcUIsRUFDVUUsU0FBQUEsR0F2Q1YsSUEwQ0E0QyxFQUFNSyxFQUFXQyxRQUFVZixPQXZDM0IsT0FEQTNDLEVBb0RNb0MsUUFBQUEsT0FyRE5nQixFQUFBQSxDQUdELEVBaUdFakIsRUFBVSxDQTlEVjlELFNBK0RJc0YsY0FBZSwwQkFBQSxFQTlEbkJ0RixTQWdFQThCLGNBQVcsNkJBQU0sR0FjakJpQyxHQVpPc0IsV0EvRFByRixTQUNFbUMsY0FpRVcyQixvQ0FBSSxFQWhFZkssWUFrRUZsQixRQUFlQyxJQUFRQyxHQUFBQSxFQUN2QmlCLE1BQUEsRUFBQSxDQUFBLENBQUEsQ0FqRUQsRUFxQ3NDaUIsV0FuQ3JDckYsU0FnRUR1RixjQUFBQSxtQ0FBcUIsRUFDckJwQixZQUFBcUIsUUFBQSxJQUFBLEdBQUEsRUFFRHBCLE1BQU1uQixFQUFBQSxDQUFBQSxDQUFBQSxDQS9ETCxHQWlFK0N3QyxRQUFDLENBQUEsRUFDL0N0QyxFQUFjTSxLQUFNTCxNQXpNRixLQXlNMkIsRUFBR1csRUFBSSxFQTlEckRqQyxXQWdFUSxXQS9EUDRELEVBZ0VDbkYsUUFBQSxTQUFBb0YsR0FDRnpDLEVBQUFBLE1BQU9qRCxpQkFBaUIyRixFQS9EdEJELEVBZ0VEeEMsTUFBUUssWUFBYSxDQS9EckIsQ0FnRUQsQ0FDRCxFQUFDLEdBQUEsR0FtQ0EsS0FDRCxJQURDLElBQ0NnQixFQUFBLEVBQUFBLEVBQUFxQixFQUFBbkIsT0FBQUYsQ0FBQSxJQURELEtBR0QvQixJQUFBQSxFQUFBQSxTQUFvQnhDLGNBQWdCLEtBQUMsRUFDcEN3QixFQUFVTCxTQUFhMEUsY0FBQyxLQUFBLEVBQ3ZCQyxFQUFBL0YsU0FBQThGLGNBQUEsTUFBQSxFQUNGdEQsRUFBWXZDLFNBQUFBLGNBQTBCMkMsS0FBQUEsRUF4RTlCb0QsR0FMTmxDLEVBOEVpQnpELFVBQVVKLElBQUFBLGlCQUFpQixFQUF3QjhGLEVBQUMxRixVQUFBTyxJQUFBLG1CQUFBLEVBQ3ZFd0IsRUFBQUEsVUFBVW5DLElBQUFBLG9CQUEwQmdHLEVBQ25DOUMsRUFBQTlDLFVBQUFPLElBQUEscUJBQUEsRUEzRXNCeUMsS0FBS0MsTUFBc0IsR0FBaEJELEtBQUtFLE9BQU8sRUFBUyxFQUFFLEdBQ3ZESixFQUFRZ0IsWUFBVyxtQkFBQVEsT0FBc0JxQixFQUFZLElBQUEsRUFDckQ3QyxFQUFRSyxNQUFNSyxRQUFVLEVBRXhCa0MsRUFBVTVCLFlBQWMwQixFQUFPckIsR0FFL0JWLEVBQUl3QixPQUFPcEMsQ0FBTSxFQUNqQlksRUFBSXdCLE9BQU9uQyxDQUFPLEVBRWxCckIsV0FBVyxXQUNWb0IsRUFBT00sTUFBTTBDLE9BQVNGLEVBQWUsSUFDdEMsRUFBRyxHQUFHLEVBRU5sQyxFQUFJd0IsT0FBT1MsQ0FBUyxFQUNwQjdELEVBQU1vRCxPQUFPeEIsQ0FBRyxFQUVoQmIsRUFBZUMsRUFBUUMsQ0FBTyxDQUMvQixHQWtEQyxFQXJKRCxJQUxBLElBcURHZ0MsRUFBQW5GLFNBQUFtQyxjQXBERiwwQkFzREYsRUFDTThELEVBQUFBLEdBRUU1RixFQUFBQSxFQUFBQSxFQUFVTyxFQUFhOEQsT0FBQUYsQ0FBQSxHQUFBLENBcEQ3QixJQXNESzJCLEVBQU9oRyxLQUFFTyxNQUFPMEYsS0FBQUEsT0FBQUEsRUFBQUEsRUFBdUIxQixNQUFBLEVBOUM1QyxHQWdEWSxJQUFiSyxFQUNBakQsV0FBYTNCLFdBRWJrRyxFQUFPN0MsVUFBWUMsSUFBRyxTQUFBLENBQ3RCNEMsRUFBQUEsR0FBTSxFQUlOdkUsRUFBQUEsVUFBV3JCLE9BQU0sU0FBQSxFQUVkdUUsRUFBSUYsU0FBQUMsQ0FBQSxFQUFBLE9BQ1BDLEVBQUFzQixLQUFBdkIsQ0FBQSxFQUVELElBQU13QixFQUFnQnZHLFNBQWhCdUcsY0FBc0IsS0FBQSxFQTFEMUJ0QixFQTBEMEI1RSxVQUFBbUcsSUFBQUEsaUNBQ2EsRUF6RHZDdkIsRUEyRFlDLFVBQUdsRiw4R0FBQUEsT0FDaUN5RSxFQUFBTSxHQUFBekMsUUFBQSw2RUFBQSxFQUFBcUMsT0FDSEYsRUFBQU0sR0FBQXhDLEtBQUEsd0dBQUEsRUFBQW9DLE9BR0RGLEVBQUFNLEdBQUExQyxLQUFBLE1BQUEsRUExRDVDOEMsRUE0RFE5RSxPQUFjNEUsQ0FBQSxDQTNEdkIsQ0FnRkQsR0FlYyxFQUNkd0IsT0FBT3hHLGlCQUFpQixRQUFTLFNBQUNFLEdBRWhDLENBQUM0QyxFQUFpQjJELFNBQVN2RyxFQUFFTyxNQUFNLEdBQ25DUCxFQUFFTyxTQUFXZ0MsR0FDYkssRUFBaUIxQyxVQUFVcUcsU0FBUyxRQUFRLEdBRTVDakYsRUFBVUwsQ0FBYSxDQUV6QixDQUFDLEVBQ0RxRixPQUFPeEcsaUJBQWlCLFFBQVMsU0FBQ0UsR0FDN0JBLEVBQUVPLFNBQVdNLEVBQVcsSUFBTWIsRUFBRU8sU0FBV04sSUF0TGhEQSxFQUFTdUcsTUFBV0EsR0FyQm5CM0YsRUFzQk00RixRQUFXLFNBQUdDLEdBQUd4QyxPQUFBQSxFQUFReUMsVUFBSXJHLE9BQUEsV0FBQSxDQUFBLENBQUEsRUFyQm5DTCxFQXNCTTJHLFVBQWNqRyxPQUFNcUIsUUFBQUEsRUF1TDNCLENBQUMsRUFDRHNFLE9BQU94RyxpQkFBaUIsUUFBUyxTQUFDRSxHQUVoQ0EsRUFBRU8sU0FBV0ksR0FDWkEsRUFBTTRGLFNBQVN2RyxFQUFFTyxNQUFNLEdBQ3ZCUCxFQUFFTyxPQUFPbUMsUUFBUSxxQkFBcUIsR0FDdkMvQixDQUFBQSxFQUFNVCxVQUFVcUcsU0FBUyxRQUFRLEdBRWpDakYsRUFBVVgsQ0FBSyxDQUVqQixDQUFDLEVBQ0QyRixPQUFPeEcsaUJBQWlCLFFBQVMsU0FBQ0UsR0FFL0I0QixFQUFVMkUsU0FBU3ZHLEVBQUVPLE1BQU0sR0FDM0JQLEVBQUVPLE9BQU9tQyxRQUFRLG9CQUFvQixHQUN0Q2QsQ0FBQUEsRUFBVTFCLFVBQVVxRyxTQUFTLFFBQVEsR0FFckNqRixFQUFVTSxDQUFTLENBRXJCLENBQUMsRUFFRFUsRUFBb0J4QyxpQkFBaUIsUUFBUyxXQUM3Q3dCLEVBQVVMLENBQWEsQ0FDeEIsQ0FBQyxFQUNEb0IsRUFBWXZDLGlCQUFpQixRQXRPVCxTQUFBRSxHQXRCbkIsSUF3RUEwRyxFQWxEdUIxRyxFQUFBTyxPQUFLTyxRQUFJWixvQkFBaUIsRUFyQmhEYyxFQXFCNkQsRUFDOURmLEVBQVdNLE9BQUNMLFFBQVVJLDZCQUFnQixFQUN0Q3VDLEVBQUEsRUFDSzdCLEVBQUFBLE9BQWUwQixRQUFmMUIsb0JBQXFCLEVBcEJ6QkosRUFxQlksRUFDTFYsRUFBQUEsT0FBVUksUUFBTywrQkFBVSxHQThDOUJtRSxHQURMaUMsRUE1Q0ExRyxFQUFBTyxRQTZDa0IyRCxRQUFiTyxLQUNMOUMsRUFBV2hCLEVBQU1xQixjQUFBLGVBQUF3QyxPQUFBaUMsRUFBQSxJQUFBLENBQUEsRUEzQmpCdkYsRUE2Qk8wRixDQUFBLEdBL0NGdEYsRUFBU2YsT0FBR21DLFFBQVpwQixxQkFBdUIsR0FwQjNCcUIsRUFxQkt6QyxDQW5CUCxDQWlQdUQsRUFDdkRDLEVBQU1DLFFBQVEsU0FBQ0MsR0FBSSxPQUFLQSxFQUFLUCxpQkFBaUIsUUFBU0MsQ0FBYyxDQUFDLENBQUEsRUFDdEVrQyxFQUFVbkMsaUJBQWlCLFFBeENaLFNBQUFFLEdBQ2ZzRyxJQUFNSixFQUFDcEcsU0FBaUI2RixjQUFTLE1BQUUsRUFPbENLLEdBdkVBRSxFQWtFRXRELFVBQUFBLElBQUFBLFFBQWlCMkQsRUFLbkJ2RyxFQUFBTyxPQUFBMEYsc0JBQUEsR0FFSzNDLEVBQUN4RCxFQUFBQSxRQUFpQmtHLEVBQUExQyxJQUFTLEtBQzVCdEQsRUFBRU8sRUFBTWtELFFBQUs1QyxFQUFXMkMsS0FBTyxLQW5FbkMwQyxFQXFFQTdDLE1BQUFDLElBQUFBLEVBQ0Q0QyxFQUFFN0MsTUFBQUcsS0FBQUEsRUFuRUR4RCxFQXFFQU8sT0FDR0EsT0FBTTJGLENBQUt2RixFQXBFZGdCLFdBMEVBLFdBQ0F1RSxFQUFDNUYsT0FBQSxDQUNGZ0csRUFBQUEsR0FBTSxDQXpFTixDQXdGcUQsQ0FDdEQsQ0FBQyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGNoYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGF0aXN0aWNzX19jaGFydFwiKTtcclxuXHRjb25zdCByZXBvcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlcG9ydF9fYnRuXCIpO1xyXG5cdGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIik7XHJcblx0Y29uc3QgbW9udGhzID0gW1xyXG5cdFx0XCJKYW5cIixcclxuXHRcdFwiRmViXCIsXHJcblx0XHRcIk1hclwiLFxyXG5cdFx0XCJBcHJcIixcclxuXHRcdFwiTWF5XCIsXHJcblx0XHRcIkp1blwiLFxyXG5cdFx0XCJKdWxcIixcclxuXHRcdFwiQXVnXCIsXHJcblx0XHRcIlNlcFwiLFxyXG5cdFx0XCJPY3RcIixcclxuXHRcdFwiTm92XCIsXHJcblx0XHRcIkRlY1wiLFxyXG5cdF07XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uc0RhdGEgPSBbXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiV2VsY29tZSB0byB5b3VyIGRhc2hib2FyZCFcIixcclxuXHRcdFx0dGltZTogXCIxIGhvdXIgYWdvXCIsXHJcblx0XHRcdGZyb206IFwiU3lzdGVtXCIsXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRtZXNzYWdlOiBcIllvdSBoYXZlIDIgbmV3IG1lc3NhZ2VzXCIsXHJcblx0XHRcdHRpbWU6IFwiMSBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIk5pY2sgSi5cIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiWW91ciByZXBvcnQgaXMgcmVhZHkgdG8gZG93bmxvYWRcIixcclxuXHRcdFx0dGltZTogXCIyIGhvdXJzIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJGaXJzdCBzdGVwcyBpbiB0aGUgRGFzaGJvYXJkXCIsXHJcblx0XHRcdHRpbWU6IFwiMyBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJKZXJyeSBmcm9tIERhc2hib2FyZFwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJVcGRhdGU6IERhc2hib2FyZCB2Mi4xXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJTeXN0ZW1cIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiTmV3IHBheW1lbnQ6ICskMSwyMDAgUGF5UGFsXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJUaGUgdHJhbnNmZXIgaGFzIGJlZW4gY29tcGxldGVkXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJKb2huIERcIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiUmVtaW5kZXI6IFJlYmFsYW5jZSBwb3J0Zm9saW9cIixcclxuXHRcdFx0dGltZTogXCI1IGhvdXJzIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJOZXc6IEFuYWx5dGljcyBpbiBQUk8hXCIsXHJcblx0XHRcdHRpbWU6IFwiNiBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIkRhbmllbCBmcm9tIERhc2hib2FyZFwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJDb250YWN0IGRldGFpbHMgY29uZmlybWF0aW9uXCIsXHJcblx0XHRcdHRpbWU6IFwiOCBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN1cHBvcnQgVGVhbVwiLFxyXG5cdFx0fSxcclxuXHRdO1xyXG5cdGNvbnN0IENJUkNMRV9EQVNIQVJSID0gMzE0O1xyXG5cdGNvbnN0IG1lc3NhZ2VzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnMtYm94XCIpO1xyXG5cdGNvbnN0IGhlYWRlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3BhbmVsXCIpO1xyXG5cdGNvbnN0IGNsb3NlSGVhZGVyUGFuZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIubm90aWZpY2F0aW9ucy1ib3hfX2Nsb3NlXCJcclxuXHQpO1xyXG5cdGNvbnN0IHRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrc1wiKTtcclxuXHRjb25zdCBiZWxsRG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb3RcIik7XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uc0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9ucy1ib3hcIik7XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uc0JlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fYnRuLS1iZWxsXCIpO1xyXG5cdGNvbnN0IGhlYWRlckJ0bnMgPSBbXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fYnRuLS1zZWFyY2gtZW5naW5lXCIpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3Byby1zdWJzY3JpYnRpb24tYnRuXCIpLFxyXG5cdF07XHJcblx0Y29uc3QgdXNlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLXBhbmVsXCIpO1xyXG5cdGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2lucHV0XCIpO1xyXG5cdGNvbnN0IGhhbmRsZU5hdkxpbmtzID0gKGUpID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGxpbmtzLmZvckVhY2goKGxpbmspID0+IGxpbmsuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cdH07XHJcblx0Y29uc3QgaGFuZGxlSGVhZGVyUGFuZWwgPSAoZSkgPT4ge1xyXG5cdFx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIuaGVhZGVyX19idG4tLWJlbGxcIikpIHtcclxuXHRcdFx0c2hvd01zZ1BhbmVsKCk7XHJcblx0XHR9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIuaGVhZGVyX19idG4tLXNlYXJjaC1lbmdpbmVcIikpIHtcclxuXHRcdFx0aGFuZGxlU2VhcmNoSW5wdXQoKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX2J0bi0tdXNlclwiKSkge1xyXG5cdFx0XHRzaG93VXNlclBhbmVsKCk7XHJcblx0XHR9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIuaGVhZGVyX19wcm8tc3Vic2NyaWJ0aW9uLWJ0blwiKSkge1xyXG5cdFx0XHRoYW5kbGVUYXNrcyhlLnRhcmdldCk7XHJcblx0XHR9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIuaGVhZGVyX19idG4tLXRhc2tzXCIpKSB7XHJcblx0XHRcdHNob3dUYXNrcygpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Y29uc3Qgc2hvd1Rhc2tzID0gKCkgPT4ge1xyXG5cdFx0dGFza3MuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHR9O1xyXG5cdGNvbnN0IGhhbmRsZVNlYXJjaElucHV0ID0gKCkgPT4ge1xyXG5cdFx0c2VhcmNoSW5wdXQudmFsdWUgPSBcIlwiO1xyXG5cdFx0aGVhZGVyQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYnRuLW1vdmVkXCIpKTtcclxuXHRcdHNlYXJjaElucHV0LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcblx0fTtcclxuXHRjb25zdCBoaWRlU2VhcmNoZXIgPSAoKSA9PiB7XHJcblx0XHRzZWFyY2hJbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHRoZWFkZXJCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJidG4tbW92ZWRcIikpO1xyXG5cdFx0c2VhcmNoSW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuXHR9O1xyXG5cdGNvbnN0IHNob3dNc2dQYW5lbCA9ICgpID0+IHtcclxuXHRcdG1lc3NhZ2VzUGFuZWwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHRcdGJlbGxEb3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcblx0fTtcclxuXHRjb25zdCBoaWRlUGFuZWwgPSAocGFuZWwpID0+IHtcclxuXHRcdHBhbmVsLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHRwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0fSwgMzAwKTtcclxuXHR9O1xyXG5cdGNvbnN0IHNob3dVc2VyUGFuZWwgPSAoKSA9PiB7XHJcblx0XHR1c2VyUGFuZWwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHR9O1xyXG5cclxuXHQvLyBTVEFSVCBvZiBUQVNLUyBNQU5BR0VSXHJcblxyXG5cdGZ1bmN0aW9uIGhhbmRsZVRhc2tzKGVsKSB7XHJcblx0XHRjb25zdCBlbGVtZW50RGF0YSA9IGVsLmRhdGFzZXQubmFtZTtcclxuXHRcdGNvbnN0IGN1cnJlbnRUYXNrID0gdGFza3MucXVlcnlTZWxlY3RvcihgW2RhdGEtbmFtZT1cIiR7ZWxlbWVudERhdGF9XCJdYCk7XHJcblxyXG5cdFx0c2V0UHJvZ3Jlc3NCYXJXaWR0aChjdXJyZW50VGFzayk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzZXRQcm9ncmVzc0JhcldpZHRoID0gKGN1cnJUYXNrKSA9PiB7XHJcblx0XHRjb25zdCBkaXZpZGVuZCA9IDEwMDtcclxuXHRcdGNvbnN0IHRhc2tzVGFyZ2V0ID0gY3VyclRhc2sucXVlcnlTZWxlY3RvcihcIi50YXNrc19fdGFyZ2V0XCIpO1xyXG5cdFx0Y29uc3QgdGFza3NOdW0gPSBwYXJzZUludCh0YXNrc1RhcmdldC50ZXh0Q29udGVudC5zbGljZSg0KSk7XHJcblx0XHRjb25zdCBwcm9ncmVzc0JhciA9IGN1cnJUYXNrLnF1ZXJ5U2VsZWN0b3IoXCIudGFza3NfX3Byb2dyZXNzLWJhclwiKTtcclxuXHJcblx0XHRoYW5kbGVUYWtzU3RhdGUoY3VyclRhc2ssIHRhc2tzVGFyZ2V0LCB0YXNrc051bSk7XHJcblxyXG5cdFx0bGV0IHRhc2tQcm9ncmVzc051bSA9IHBhcnNlSW50KGN1cnJUYXNrLmRhdGFzZXQubnVtYmVyKTtcclxuXHRcdHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gKGRpdmlkZW5kIC8gdGFza3NOdW0pICogdGFza1Byb2dyZXNzTnVtICsgXCIlXCI7XHJcblx0fTtcclxuXHRjb25zdCBoYW5kbGVUYWtzU3RhdGUgPSAoY3VyclRhc2ssIHRhc2tzVGFyZ2V0LCB0YXNrc051bSkgPT4ge1xyXG5cdFx0bGV0IHRhc2tQcm9ncmVzc051bSA9IHBhcnNlSW50KGN1cnJUYXNrLmRhdGFzZXQubnVtYmVyKTtcclxuXHJcblx0XHRpZiAodGFza1Byb2dyZXNzTnVtID49IHRhc2tzTnVtKSByZXR1cm47XHJcblxyXG5cdFx0dGFza1Byb2dyZXNzTnVtID0gdXBkYXRlVGFza051bWJlcihjdXJyVGFzayk7XHJcblxyXG5cdFx0Y29uc3QgdGFza3NTdGF0dXMgPSBjdXJyVGFzay5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzX19zdGF0dXNcIik7XHJcblx0XHR0YXNrc1RhcmdldC50ZXh0Q29udGVudCA9IGAke3Rhc2tQcm9ncmVzc051bX0gLyAke3Rhc2tzTnVtfWA7XHJcblx0XHRoaWRlVGFyZ2V0KHRhc2tzVGFyZ2V0KTtcclxuXHRcdHNob3dJZkNoZWNrZWQodGFza3NTdGF0dXMpO1xyXG5cdH07XHJcblx0Y29uc3QgaGlkZVRhcmdldCA9ICh0YXNrc1RhcmdldCkgPT4ge1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRhc2tzVGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHR9LCAzMDApO1xyXG5cdH07XHJcblx0Y29uc3Qgc2hvd0lmQ2hlY2tlZCA9ICh0YXNrc1N0YXR1cykgPT4ge1xyXG5cdFx0Y29uc3QgY2hlY2tJY29uID0gdGFza3NTdGF0dXMucXVlcnlTZWxlY3RvcihcImlcIik7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0Y2hlY2tJY29uLmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0fSwgNjAwKTtcclxuXHR9O1xyXG5cdGNvbnN0IHVwZGF0ZVRhc2tOdW1iZXIgPSAoY3VyclRhc2spID0+IHtcclxuXHRcdGxldCBudW0gPSBjdXJyVGFzay5kYXRhc2V0Lm51bWJlcjtcclxuXHRcdG51bSsrO1xyXG5cdFx0Y3VyclRhc2suZGF0YXNldC5udW1iZXIgPSBudW07XHJcblx0XHRyZXR1cm4gbnVtO1xyXG5cdH07XHJcblxyXG5cdC8vIEVORCBvZiBUQVNLUyBNQU5BR0VSXHJcblx0Y29uc3QgY3JlYXRlTm90aWZpY2F0aW9ucyA9ICgpID0+IHtcclxuXHRcdGNvbnN0IG5vdGlmaWNhdGlvbnNCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0XCIubm90aWZpY2F0aW9ucy1ib3hfX2JvZHlcIlxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IGFyciA9IFtdO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbm90aWZpY2F0aW9uc0RhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbm90aWZpY2F0aW9uc0RhdGEubGVuZ3RoKTtcclxuXHRcdFx0aWYgKG51bSAhPT0gMCkge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0YmVsbERvdC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRcdFx0XHR9LCAzMDApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGJlbGxEb3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGFyci5pbmNsdWRlcyhudW0pKSByZXR1cm47XHJcblx0XHRcdGFyci5wdXNoKG51bSk7XHJcblx0XHRcdGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRcdG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9ucy1ib3hfX25vdGlmaWNhdGlvblwiKTtcclxuXHJcblx0XHRcdG5vdGlmaWNhdGlvbi5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cIm5vdGlmaWNhdGlvbnMtYm94X19oZWFkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5vdGlmaWNhdGlvbnMtYm94X19oZWFkZXJcIj4ke25vdGlmaWNhdGlvbnNEYXRhW251bV0ubWVzc2FnZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5vdGlmaWNhdGlvbnMtYm94X190aW1lXCI+JHtub3RpZmljYXRpb25zRGF0YVtudW1dLnRpbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJub3RpZmljYXRpb25zLWJveF9fYXV0aG9yXCI+JHtub3RpZmljYXRpb25zRGF0YVtudW1dLmZyb219PC9wPmA7XHJcblxyXG5cdFx0XHRub3RpZmljYXRpb25zQm9keS5hcHBlbmQobm90aWZpY2F0aW9uKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBoYW5kbGVSaW5nU3RhdHMgPSAoKSA9PiB7XHJcblx0XHRjb25zdCByaW5ncyA9IFtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9ncmVzcy1yaW5nX19wcm9ncmVzc1wiKSxcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9ncmVzcy1yaW5nX19wcm9ncmVzcy1iZ1wiKSxcclxuXHRcdF07XHJcblx0XHRjb25zdCBlYXJuaW5ncyA9IHBhcnNlRmxvYXQoXHJcblx0XHRcdGRvY3VtZW50XHJcblx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3MtcmluZyB0c3BhbjpmaXJzdC1vZi10eXBlXCIpXHJcblx0XHRcdFx0LnRleHRDb250ZW50LnJlcGxhY2UoXCIsXCIsIFwiLlwiKVxyXG5cdFx0XHRcdC5zbGljZSgxLCAtMSlcclxuXHRcdCk7XHJcblx0XHRjb25zdCBkZXN0aW55ID0gcGFyc2VGbG9hdChcclxuXHRcdFx0ZG9jdW1lbnRcclxuXHRcdFx0XHQucXVlcnlTZWxlY3RvcihcIi5wcm9ncmVzcy1yaW5nIHRzcGFuOmxhc3Qtb2YtdHlwZVwiKVxyXG5cdFx0XHRcdC50ZXh0Q29udGVudC5yZXBsYWNlKFwiLFwiLCBcIi5cIilcclxuXHRcdFx0XHQuc2xpY2UoMywgLTEpXHJcblx0XHQpO1xyXG5cdFx0Y29uc3QgZWFybmluZ3NQZXJjZW50YWdlID0gKGVhcm5pbmdzIC8gZGVzdGlueSkudG9GaXhlZCg1KTtcclxuXHRcdGNvbnN0IGZpbmFsT2Zmc2V0ID0gTWF0aC5mbG9vcihDSVJDTEVfREFTSEFSUiAqICgxIC0gZWFybmluZ3NQZXJjZW50YWdlKSk7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHJpbmdzLmZvckVhY2goKHJpbmcpID0+IHtcclxuXHRcdFx0XHRyaW5nLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSBmaW5hbE9mZnNldDtcclxuXHRcdFx0XHRyaW5nLnN0eWxlLnN0cm9rZVdpZHRoID0gNjtcclxuXHRcdFx0fSk7XHJcblx0XHR9LCAxMDApO1xyXG5cdH07XHJcblx0Y29uc3QgYnRuQ2xpY2tBbmltYXRpb24gPSAoZSkgPT4ge1xyXG5cdFx0Y29uc3QgY2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcblx0XHRjaXJjbGUuY2xhc3NMaXN0LmFkZChcImNpcmNsZVwiKTtcclxuXHJcblx0XHRjb25zdCByZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG5cdFx0Y29uc3QgdG9wID0gZS5jbGllbnRZIC0gcmVjdC50b3AgKyBcInB4XCI7XHJcblx0XHRjb25zdCBsZWZ0ID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0ICsgXCJweFwiO1xyXG5cclxuXHRcdGNpcmNsZS5zdHlsZS50b3AgPSB0b3A7XHJcblx0XHRjaXJjbGUuc3R5bGUubGVmdCA9IGxlZnQ7XHJcblxyXG5cdFx0ZS50YXJnZXQuYXBwZW5kKGNpcmNsZSk7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGNpcmNsZS5yZW1vdmUoKTtcclxuXHRcdH0sIDMwMCk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgY3JlYXRlQ29sdW1ucyA9ICgpID0+IHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbW9udGhzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRcdGNvbnN0IGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRcdGNvbnN0IG1vbnRoTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0XHRjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcblx0XHRcdGJveC5jbGFzc0xpc3QuYWRkKFwic3RhdGlzdGljc19fYm94XCIpO1xyXG5cdFx0XHRtb250aE5hbWUuY2xhc3NMaXN0LmFkZChcInN0YXRpc3RpY3NfX21vbnRoXCIpO1xyXG5cdFx0XHRjb2x1bW4uY2xhc3NMaXN0LmFkZChcInN0YXRpc3RpY3NfX2NvbHVtblwiKTtcclxuXHRcdFx0dG9vbHRpcC5jbGFzc0xpc3QuYWRkKFwic3RhdGlzdGljc19fdG9vbHRpcFwiKTtcclxuXHJcblx0XHRcdGNvbnN0IHJhbmRvbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgwICsgMjApO1xyXG5cdFx0XHR0b29sdGlwLnRleHRDb250ZW50ID0gYFRvdGFsIHJldmVudWU6ICQke3JhbmRvbU51bWJlcn0wMGA7XHJcblx0XHRcdHRvb2x0aXAuc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG5cdFx0XHRtb250aE5hbWUudGV4dENvbnRlbnQgPSBtb250aHNbaV07XHJcblxyXG5cdFx0XHRib3guYXBwZW5kKGNvbHVtbik7XHJcblx0XHRcdGJveC5hcHBlbmQodG9vbHRpcCk7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRjb2x1bW4uc3R5bGUuaGVpZ2h0ID0gcmFuZG9tTnVtYmVyICsgXCJweFwiO1xyXG5cdFx0XHR9LCAxMDApO1xyXG5cclxuXHRcdFx0Ym94LmFwcGVuZChtb250aE5hbWUpO1xyXG5cdFx0XHRjaGFydC5hcHBlbmQoYm94KTtcclxuXHJcblx0XHRcdGhhbmRsZVRvb2x0aXBzKGNvbHVtbiwgdG9vbHRpcCk7XHJcblx0XHR9XHJcblx0XHRjcmVhdGVOb3RpZmljYXRpb25zKCk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgaGFuZGxlVG9vbHRpcHMgPSAoY29sdW1uLCB0b29sdGlwKSA9PiB7XHJcblx0XHRjb2x1bW4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBwb3NpdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKTtcclxuXHRcdFx0dG9vbHRpcC5zdHlsZS50b3AgPSBwb3NpdGlvbiAtIGUuY2xpZW50WSAvIDEwICsgXCJweFwiO1xyXG5cdFx0XHR0b29sdGlwLnN0eWxlLmxlZnQgPSBwb3NpdGlvbiAtIGUuY2xpZW50WCAvIDEwICsgXCJweFwiO1xyXG5cdFx0XHR0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG5cdFx0fSk7XHJcblx0XHRjb2x1bW4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xyXG5cdFx0XHR0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlUmluZ1N0YXRzKCk7XHJcblx0Y3JlYXRlQ29sdW1ucygpO1xyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGlmIChcclxuXHRcdFx0IW5vdGlmaWNhdGlvbnNCb3guY29udGFpbnMoZS50YXJnZXQpICYmXHJcblx0XHRcdGUudGFyZ2V0ICE9PSBub3RpZmljYXRpb25zQmVsbCAmJlxyXG5cdFx0XHRub3RpZmljYXRpb25zQm94LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxyXG5cdFx0KSB7XHJcblx0XHRcdGhpZGVQYW5lbChtZXNzYWdlc1BhbmVsKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoZS50YXJnZXQgIT09IGhlYWRlckJ0bnNbMF0gJiYgZS50YXJnZXQgIT09IHNlYXJjaElucHV0KSB7XHJcblx0XHRcdGhpZGVTZWFyY2hlcigpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGlmIChcclxuXHRcdFx0ZS50YXJnZXQgIT09IHRhc2tzICYmXHJcblx0XHRcdCF0YXNrcy5jb250YWlucyhlLnRhcmdldCkgJiZcclxuXHRcdFx0IWUudGFyZ2V0Lm1hdGNoZXMoXCIuaGVhZGVyX19idG4tLXRhc2tzXCIpICYmXHJcblx0XHRcdHRhc2tzLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxyXG5cdFx0KSB7XHJcblx0XHRcdGhpZGVQYW5lbCh0YXNrcyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKFxyXG5cdFx0XHQhdXNlclBhbmVsLmNvbnRhaW5zKGUudGFyZ2V0KSAmJlxyXG5cdFx0XHQhZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX2J0bi0tdXNlclwiKSAmJlxyXG5cdFx0XHR1c2VyUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpXHJcblx0XHQpIHtcclxuXHRcdFx0aGlkZVBhbmVsKHVzZXJQYW5lbCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGNsb3NlSGVhZGVyUGFuZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdGhpZGVQYW5lbChtZXNzYWdlc1BhbmVsKTtcclxuXHR9KTtcclxuXHRoZWFkZXJQYW5lbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlSGVhZGVyUGFuZWwpO1xyXG5cdGxpbmtzLmZvckVhY2goKGxpbmspID0+IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdkxpbmtzKSk7XHJcblx0cmVwb3J0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBidG5DbGlja0FuaW1hdGlvbik7XHJcbn0pO1xyXG4iXX0=

document.addEventListener("DOMContentLoaded",function(){function t(e){e.preventDefault(),i.forEach(function(e){return e.classList.remove("active")}),e.target.classList.add("active")}function n(){p.classList.add("active")}function o(){L.value="",y.forEach(function(e){return e.classList.toggle("btn-moved")}),L.classList.toggle("active")}function a(){m.classList.add("active"),_.classList.remove("visible")}function s(e){e.classList.add("hidden"),e.classList.remove("active"),setTimeout(function(){e.classList.remove("hidden")},300)}function r(){b.classList.add("active")}var c=document.querySelector(".statistics__chart"),e=document.querySelector(".report__btn"),i=document.querySelectorAll(".nav__link"),l=document.querySelector(".dashboard"),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=[{message:"Welcome to your dashboard!",time:"1 hour ago",from:"System"},{message:"You have 2 new messages",time:"1 hour ago",from:"Nick J."},{message:"Your report is ready to download",time:"2 hours ago",from:"System"},{message:"First steps in the Dashboard",time:"3 hours ago",from:"Jerry from Dashboard"},{message:"Update: Dashboard v2.1",time:"4 hours ago",from:"System"},{message:"New payment: +$1,200 PayPal",time:"4 hour ago",from:"System"},{message:"The transfer has been completed",time:"4 hours ago",from:"John D"},{message:"Reminder: Rebalance portfolio",time:"5 hours ago",from:"System"},{message:"New: Analytics in PRO!",time:"6 hour ago",from:"Daniel from Dashboard"},{message:"Contact details confirmation",time:"8 hour ago",from:"Support Team"}],m=document.querySelector(".notifications-box"),f=document.querySelector(".header__panel"),g=document.querySelector(".notifications-box__close"),p=document.querySelector(".tasks"),_=document.querySelector(".dot"),v=document.querySelector(".notifications-box"),h=document.querySelector(".header__btn--bell"),y=[document.querySelector(".header__btn--search-engine"),document.querySelector(".header__pro-subscribtion-btn")],b=document.querySelector(".user-panel"),L=document.querySelector(".header__input"),S=document.querySelector(".login-page"),q=(document.querySelector(".login-page__container"),document.querySelectorAll(".login-page__input")),x=(document.querySelector(".login-page__pass-forgotten"),document.querySelector(".login-page__login-btn")),E=document.querySelector(".error-info"),k=document.querySelector(".login-page__input--username"),w=document.querySelector(".login-page__input--password"),R="#j5e_dk1",Y="123g45Z6789!";function I(){q.forEach(function(e){e.value.trim()?(E.textContent="",F(e),A(k,R),A(w,Y)):(E.textContent="Complete all fields",J(e))}),B()}function C(e){var t=document.createElement("span"),n=(t.classList.add("circle"),e.target.getBoundingClientRect()),o=e.clientY-n.top+"px",n=e.clientX-n.left+"px";t.style.top=o,t.style.left=n,e.target.append(t),setTimeout(function(){t.remove()},300)}function O(e,n){e.addEventListener("mouseover",function(e){var t=Math.floor(20*Math.random());n.style.top=t-e.clientY/10+"px",n.style.left=t-e.clientX/10+"px",n.style.opacity=1}),e.addEventListener("mouseleave",function(){n.style.opacity=0})}var T,D,M,P=function(e){var t=e.querySelector(".tasks__target"),n=parseInt(t.textContent.slice(4)),o=e.querySelector(".tasks__progress-bar"),t=(W(e,t,n),parseInt(e.dataset.number));o.style.width=100/n*t+"%"},W=function(e,t,n){var o=parseInt(e.dataset.number);n<=o||(o=j(e),e=e.querySelector(".tasks__status"),t.textContent="".concat(o," / ").concat(n),X(t),$(e))},X=function(e){setTimeout(function(){e.classList.add("hidden")},300)},$=function(e){var t=e.querySelector("i");setTimeout(function(){t.classList.add("visible")},600)},j=function(e){var t=e.dataset.number;return e.dataset.number=++t},A=function(e,t){e.value!==t?(E.textContent="Wrong username or password",J(e)):(E.textContent="",F(k))},J=function(e){e.classList.add("error")},F=function(e){e.classList.remove("error")},N=!1,B=function(){var e=Array.from(q).some(function(e){return e.classList.contains("error")});console.log(e),N||e||(N=!0,H(),setTimeout(function(){N=!1},1e3))},H=function(){l.style.display="grid",S.style.display="none"};T=[document.querySelector(".progress-ring__progress"),document.querySelector(".progress-ring__progress-bg")],D=(parseFloat(document.querySelector(".progress-ring tspan:first-of-type").textContent.replace(",",".").slice(1,-1))/parseFloat(document.querySelector(".progress-ring tspan:last-of-type").textContent.replace(",",".").slice(3,-1))).toFixed(5),M=Math.floor(314*(1-D)),setTimeout(function(){T.forEach(function(e){e.style.strokeDashoffset=M,e.style.strokeWidth=6})},100),(()=>{for(var s=0;s<u.length;s++)(()=>{var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("span"),o=document.createElement("div"),a=(e.classList.add("statistics__box"),n.classList.add("statistics__month"),t.classList.add("statistics__column"),o.classList.add("statistics__tooltip"),Math.floor(80*Math.random()+20));o.textContent="Total revenue: $".concat(a,"00"),o.style.opacity=0,n.textContent=u[s],e.append(t),e.append(o),setTimeout(function(){t.style.height=a+"px"},100),e.append(n),c.append(e),O(t,o)})();for(var e=document.querySelector(".notifications-box__body"),t=[],n=0;n<d.length;n++){var o=Math.floor(Math.random()*d.length);if(0!==o?setTimeout(function(){_.classList.add("visible")},300):_.classList.remove("visible"),t.includes(o))return;t.push(o);var a=document.createElement("div");a.classList.add("notifications-box__notification"),a.innerHTML='<div class="notifications-box__head">\n                            <span class="notifications-box__header">'.concat(d[o].message,'</span>\n                            <span class="notifications-box__time">').concat(d[o].time,'</span>\n                        </div>\n                        <p class="notifications-box__author">').concat(d[o].from,"</p>"),e.append(a)}})(),window.addEventListener("click",function(e){!v.contains(e.target)&&e.target!==h&&v.classList.contains("active")&&s(m)}),window.addEventListener("click",function(e){e.target!==y[0]&&e.target!==L&&(L.value="",y.forEach(function(e){return e.classList.remove("btn-moved")}),L.classList.remove("active"))}),window.addEventListener("click",function(e){e.target===p||p.contains(e.target)||e.target.matches(".header__btn--tasks")||!p.classList.contains("active")||s(p)}),window.addEventListener("click",function(e){b.contains(e.target)||e.target.matches(".header__btn--user")||!b.classList.contains("active")||s(b)}),g.addEventListener("click",function(){s(m)}),f.addEventListener("click",function(e){var t;e.target.matches(".header__btn--bell")?a():e.target.matches(".header__btn--search-engine")?o():e.target.matches(".header__btn--user")?r():e.target.matches(".header__pro-subscribtion-btn")?(t=(t=e.target).dataset.name,t=p.querySelector('[data-name="'.concat(t,'"]')),P(t)):e.target.matches(".header__btn--tasks")&&n()}),i.forEach(function(e){return e.addEventListener("click",t)}),e.addEventListener("click",C),x.addEventListener("click",C),x.addEventListener("click",function(e){e.preventDefault(),I()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWFyY2hJbnB1dCIsImUiLCJoZWFkZXJCdG5zIiwiZm9yRWFjaCIsImxpbmtzIiwiY2xhc3NMaXN0IiwibGluayIsInJlbW92ZSIsInRhcmdldCIsImFkZCIsInVzZXJQYW5lbCIsInRhc2tzIiwiaGFuZGxlU2VhcmNoSW5wdXQiLCJ2YWx1ZSIsImhhbmRsZVRhc2tzIiwiYnRuIiwidG9nZ2xlIiwiZWxlbWVudERhdGEiLCJkYXRhc2V0IiwicGFyc2VJbnQiLCJzaG93TXNnUGFuZWwiLCJtZXNzYWdlc1BhbmVsIiwicHJvZ3Jlc3NCYXIiLCJjdXJyVGFzayIsInF1ZXJ5U2VsZWN0b3IiLCJiZWxsRG90IiwiaGFuZGxlVGFrc1N0YXRlIiwidGFza3NUYXJnZXQiLCJzdHlsZSIsInBhbmVsIiwic2V0VGltZW91dCIsInRhc2tQcm9ncmVzc051bSIsInVwZGF0ZVRhc2tOdW1iZXIiLCJ0YXNrc1N0YXR1cyIsImhpZGVUYXJnZXQiLCJzaG93SWZDaGVja2VkIiwiY2hhcnQiLCJyZXBvcnRCdG4iLCJmcm9tIiwibWVzc2FnZSIsInRpbWUiLCJoZWFkZXJQYW5lbCIsImNsb3NlSGVhZGVyUGFuZWxCdG4iLCJub3RpZmljYXRpb25zQmVsbCIsImxvZ2luRm9ybSIsImxvZ2luSW5wdXRzIiwicGFzc0ZvcmdvdHRlbkxpbmsiLCJ1c2VybmFtZUlucHV0IiwicGFzc3dvcmRJbnB1dCIsIlVTRVJOQU1FIiwiaGFuZGxlSGVhZGVyUGFuZWwiLCJtYXRjaGVzIiwic2hvd1VzZXJQYW5lbCIsImxvZ2luUGFnZSIsInNob3dUYXNrcyIsIlBBU1NXT1JEIiwiY2hlY2tJZkVtcHR5IiwibG9nIiwiaGFzRXJyb3IiLCJzZW5kaW5nIiwidHJpbSIsImVycm9yckluZm8iLCJyZW1vdmVFcnJvciIsImlucHV0IiwiY2hlY2tJbnB1dCIsImFkZEVycm9yIiwic2VhcmNoRm9yRXJyb3JzIiwiYnRuQ2xpY2tBbmltYXRpb24iLCJoaWRlU2VhcmNoZXIiLCJjcmVhdGVFbGVtZW50IiwicmVjdCIsImNpcmNsZSIsImhpZGVQYW5lbCIsInRvcCIsImxlZnQiLCJjbGllbnRYIiwid2luZG93IiwiY29udGFpbnMiLCJhcHBlbmQiLCJoYW5kbGVUb29sdGlwcyIsImNvbHVtbiIsInRvb2x0aXAiLCJwb3NpdGlvbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNsaWVudFkiLCJvcGFjaXR5IiwiZWFybmluZ3NQZXJjZW50YWdlIiwiZmluYWxPZmZzZXQiLCJzZXRQcm9ncmVzc0JhcldpZHRoIiwibnVtIiwibnVtYmVyIiwidGFza3NOdW0iLCJ0ZXh0Q29udGVudCIsInNsaWNlIiwid2lkdGgiLCJoYW5kbGVJbnB1dHMiLCJwcmV2ZW50RGVmYXVsdCIsImNvbmNhdCIsImNvbmRpdGlvbiIsImNoZWNrSWNvbiIsImNyZWF0ZU5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zRGF0YSIsIm5vdGlmaWNhdGlvbiIsInNvbWUiLCJlbCIsImlubmVySFRNTCIsImNvbnNvbGUiLCJlYXJuaW5ncyIsImxvZ2luVXNlciIsImRlc3RpbnkiLCJyaW5ncyIsImRhc2hib2FyZCIsImRpc3BsYXkiLCJtb250aHMiLCJwYXJzZUZsb2F0IiwicmVwbGFjZSIsInRvRml4ZWQiLCJjcmVhdGVDb2x1bW5zIiwicmluZyIsIm5vdGlmaWNhdGlvbnNCb3giLCJzdHJva2VXaWR0aCIsImkiLCJsZW5ndGgiLCJsb2dpbkJ0biIsInJhbmRvbU51bWJlciIsImJveCIsIm1vbnRoTmFtZSIsImhlaWdodCIsIl9sb29wIiwiYXJyIiwibm90aWZpY2F0aW9uc0JvZHkiLCJkaXZpZGVuZCIsIm5hbWUiLCJjdXJyZW50VGFzayIsImhhbmRsZU5hdkxpbmtzIl0sIm1hcHBpbmdzIjoiQUFBQUEsU0FBU0MsaUJBQWlCLG1CQUFvQixXQWdJeEIsU0FBcEJDLEVBQW9CQyxHQTFCcEJBLEVBMkJBQyxlQUFXQyxFQTFCWEMsRUEwQnVCRCxRQUFR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QUFPLHFCQUFTLEdBekJoQytDLEVBMEJNLENBeEJSLENBNFN1RCxFQUN2RGxELEVBQU1ELFFBQVEsU0FBQ0csR0FBSSxPQUFLQSxFQUFLUCxpQkFBaUIsUUFBU3lJLENBQWMsQ0FBQyxDQUFBLEVBQ3RFbkcsRUFBVXRDLGlCQUFpQixRQUFTb0UsQ0FBaUIsRUFDckQwRCxFQUFTOUgsaUJBQWlCLFFBQVNvRSxDQUFpQixFQUNwRDBELEVBQVM5SCxpQkFBaUIsUUEzTFAsU0FBQUUsR0FDbkJBLEVBQUFpRyxlQUFNaEMsRUFqQ0xWLEVBa0NNRSxDQWpDUCxDQTBOK0MsQ0FDaEQsQ0FBQyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGNoYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGF0aXN0aWNzX19jaGFydFwiKTtcclxuXHRjb25zdCByZXBvcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlcG9ydF9fYnRuXCIpO1xyXG5cdGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIik7XHJcblx0Y29uc3QgZGFzaGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXNoYm9hcmRcIik7XHJcblx0Y29uc3QgbW9udGhzID0gW1xyXG5cdFx0XCJKYW5cIixcclxuXHRcdFwiRmViXCIsXHJcblx0XHRcIk1hclwiLFxyXG5cdFx0XCJBcHJcIixcclxuXHRcdFwiTWF5XCIsXHJcblx0XHRcIkp1blwiLFxyXG5cdFx0XCJKdWxcIixcclxuXHRcdFwiQXVnXCIsXHJcblx0XHRcIlNlcFwiLFxyXG5cdFx0XCJPY3RcIixcclxuXHRcdFwiTm92XCIsXHJcblx0XHRcIkRlY1wiLFxyXG5cdF07XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uc0RhdGEgPSBbXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiV2VsY29tZSB0byB5b3VyIGRhc2hib2FyZCFcIixcclxuXHRcdFx0dGltZTogXCIxIGhvdXIgYWdvXCIsXHJcblx0XHRcdGZyb206IFwiU3lzdGVtXCIsXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRtZXNzYWdlOiBcIllvdSBoYXZlIDIgbmV3IG1lc3NhZ2VzXCIsXHJcblx0XHRcdHRpbWU6IFwiMSBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIk5pY2sgSi5cIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiWW91ciByZXBvcnQgaXMgcmVhZHkgdG8gZG93bmxvYWRcIixcclxuXHRcdFx0dGltZTogXCIyIGhvdXJzIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJGaXJzdCBzdGVwcyBpbiB0aGUgRGFzaGJvYXJkXCIsXHJcblx0XHRcdHRpbWU6IFwiMyBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJKZXJyeSBmcm9tIERhc2hib2FyZFwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJVcGRhdGU6IERhc2hib2FyZCB2Mi4xXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJTeXN0ZW1cIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiTmV3IHBheW1lbnQ6ICskMSwyMDAgUGF5UGFsXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJUaGUgdHJhbnNmZXIgaGFzIGJlZW4gY29tcGxldGVkXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJKb2huIERcIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiUmVtaW5kZXI6IFJlYmFsYW5jZSBwb3J0Zm9saW9cIixcclxuXHRcdFx0dGltZTogXCI1IGhvdXJzIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJOZXc6IEFuYWx5dGljcyBpbiBQUk8hXCIsXHJcblx0XHRcdHRpbWU6IFwiNiBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIkRhbmllbCBmcm9tIERhc2hib2FyZFwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJDb250YWN0IGRldGFpbHMgY29uZmlybWF0aW9uXCIsXHJcblx0XHRcdHRpbWU6IFwiOCBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN1cHBvcnQgVGVhbVwiLFxyXG5cdFx0fSxcclxuXHRdO1xyXG5cdGNvbnN0IENJUkNMRV9EQVNIQVJSID0gMzE0O1xyXG5cdGNvbnN0IG1lc3NhZ2VzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnMtYm94XCIpO1xyXG5cdGNvbnN0IGhlYWRlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3BhbmVsXCIpO1xyXG5cdGNvbnN0IGNsb3NlSGVhZGVyUGFuZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIubm90aWZpY2F0aW9ucy1ib3hfX2Nsb3NlXCJcclxuXHQpO1xyXG5cdGNvbnN0IHRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrc1wiKTtcclxuXHRjb25zdCBiZWxsRG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb3RcIik7XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uc0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9ucy1ib3hcIik7XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uc0JlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fYnRuLS1iZWxsXCIpO1xyXG5cdGNvbnN0IGhlYWRlckJ0bnMgPSBbXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fYnRuLS1zZWFyY2gtZW5naW5lXCIpLFxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3Byby1zdWJzY3JpYnRpb24tYnRuXCIpLFxyXG5cdF07XHJcblx0Y29uc3QgdXNlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLXBhbmVsXCIpO1xyXG5cdGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2lucHV0XCIpO1xyXG5cclxuXHRjb25zdCBsb2dpblBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ2luLXBhZ2VcIik7XHJcblx0Y29uc3QgbG9naW5Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wYWdlX19jb250YWluZXJcIik7XHJcblx0Y29uc3QgbG9naW5JbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxvZ2luLXBhZ2VfX2lucHV0XCIpO1xyXG5cdGNvbnN0IHBhc3NGb3Jnb3R0ZW5MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLmxvZ2luLXBhZ2VfX3Bhc3MtZm9yZ290dGVuXCJcclxuXHQpO1xyXG5cdGNvbnN0IGxvZ2luQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wYWdlX19sb2dpbi1idG5cIik7XHJcblx0Y29uc3QgZXJyb3JySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItaW5mb1wiKTtcclxuXHRjb25zdCB1c2VybmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2dpbi1wYWdlX19pbnB1dC0tdXNlcm5hbWVcIik7XHJcblx0Y29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW4tcGFnZV9faW5wdXQtLXBhc3N3b3JkXCIpO1xyXG5cdGNvbnN0IFVTRVJOQU1FID0gXCIjajVlX2RrMVwiO1xyXG5cdGNvbnN0IFBBU1NXT1JEID0gXCIxMjNnNDVaNjc4OSFcIjtcclxuXHJcblx0Y29uc3QgaGFuZGxlTmF2TGlua3MgPSAoZSkgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bGlua3MuZm9yRWFjaCgobGluaykgPT4gbGluay5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblx0fTtcclxuXHRjb25zdCBoYW5kbGVIZWFkZXJQYW5lbCA9IChlKSA9PiB7XHJcblx0XHRpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX2J0bi0tYmVsbFwiKSkge1xyXG5cdFx0XHRzaG93TXNnUGFuZWwoKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX2J0bi0tc2VhcmNoLWVuZ2luZVwiKSkge1xyXG5cdFx0XHRoYW5kbGVTZWFyY2hJbnB1dCgpO1xyXG5cdFx0fSBlbHNlIGlmIChlLnRhcmdldC5tYXRjaGVzKFwiLmhlYWRlcl9fYnRuLS11c2VyXCIpKSB7XHJcblx0XHRcdHNob3dVc2VyUGFuZWwoKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX3Byby1zdWJzY3JpYnRpb24tYnRuXCIpKSB7XHJcblx0XHRcdGhhbmRsZVRhc2tzKGUudGFyZ2V0KTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX2J0bi0tdGFza3NcIikpIHtcclxuXHRcdFx0c2hvd1Rhc2tzKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRjb25zdCBzaG93VGFza3MgPSAoKSA9PiB7XHJcblx0XHR0YXNrcy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cdH07XHJcblx0Y29uc3QgaGFuZGxlU2VhcmNoSW5wdXQgPSAoKSA9PiB7XHJcblx0XHRzZWFyY2hJbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHRoZWFkZXJCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC50b2dnbGUoXCJidG4tbW92ZWRcIikpO1xyXG5cdFx0c2VhcmNoSW5wdXQuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuXHR9O1xyXG5cdGNvbnN0IGhpZGVTZWFyY2hlciA9ICgpID0+IHtcclxuXHRcdHNlYXJjaElucHV0LnZhbHVlID0gXCJcIjtcclxuXHRcdGhlYWRlckJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZShcImJ0bi1tb3ZlZFwiKSk7XHJcblx0XHRzZWFyY2hJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cdH07XHJcblx0Y29uc3Qgc2hvd01zZ1BhbmVsID0gKCkgPT4ge1xyXG5cdFx0bWVzc2FnZXNQYW5lbC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cdFx0YmVsbERvdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuXHR9O1xyXG5cdGNvbnN0IGhpZGVQYW5lbCA9IChwYW5lbCkgPT4ge1xyXG5cdFx0cGFuZWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHR9LCAzMDApO1xyXG5cdH07XHJcblx0Y29uc3Qgc2hvd1VzZXJQYW5lbCA9ICgpID0+IHtcclxuXHRcdHVzZXJQYW5lbC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIFNUQVJUIG9mIFRBU0tTIE1BTkFHRVJcclxuXHJcblx0ZnVuY3Rpb24gaGFuZGxlVGFza3MoZWwpIHtcclxuXHRcdGNvbnN0IGVsZW1lbnREYXRhID0gZWwuZGF0YXNldC5uYW1lO1xyXG5cdFx0Y29uc3QgY3VycmVudFRhc2sgPSB0YXNrcy5xdWVyeVNlbGVjdG9yKGBbZGF0YS1uYW1lPVwiJHtlbGVtZW50RGF0YX1cIl1gKTtcclxuXHJcblx0XHRzZXRQcm9ncmVzc0JhcldpZHRoKGN1cnJlbnRUYXNrKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHNldFByb2dyZXNzQmFyV2lkdGggPSAoY3VyclRhc2spID0+IHtcclxuXHRcdGNvbnN0IGRpdmlkZW5kID0gMTAwO1xyXG5cdFx0Y29uc3QgdGFza3NUYXJnZXQgPSBjdXJyVGFzay5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzX190YXJnZXRcIik7XHJcblx0XHRjb25zdCB0YXNrc051bSA9IHBhcnNlSW50KHRhc2tzVGFyZ2V0LnRleHRDb250ZW50LnNsaWNlKDQpKTtcclxuXHRcdGNvbnN0IHByb2dyZXNzQmFyID0gY3VyclRhc2sucXVlcnlTZWxlY3RvcihcIi50YXNrc19fcHJvZ3Jlc3MtYmFyXCIpO1xyXG5cclxuXHRcdGhhbmRsZVRha3NTdGF0ZShjdXJyVGFzaywgdGFza3NUYXJnZXQsIHRhc2tzTnVtKTtcclxuXHJcblx0XHRsZXQgdGFza1Byb2dyZXNzTnVtID0gcGFyc2VJbnQoY3VyclRhc2suZGF0YXNldC5udW1iZXIpO1xyXG5cdFx0cHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSAoZGl2aWRlbmQgLyB0YXNrc051bSkgKiB0YXNrUHJvZ3Jlc3NOdW0gKyBcIiVcIjtcclxuXHR9O1xyXG5cdGNvbnN0IGhhbmRsZVRha3NTdGF0ZSA9IChjdXJyVGFzaywgdGFza3NUYXJnZXQsIHRhc2tzTnVtKSA9PiB7XHJcblx0XHRsZXQgdGFza1Byb2dyZXNzTnVtID0gcGFyc2VJbnQoY3VyclRhc2suZGF0YXNldC5udW1iZXIpO1xyXG5cclxuXHRcdGlmICh0YXNrUHJvZ3Jlc3NOdW0gPj0gdGFza3NOdW0pIHJldHVybjtcclxuXHJcblx0XHR0YXNrUHJvZ3Jlc3NOdW0gPSB1cGRhdGVUYXNrTnVtYmVyKGN1cnJUYXNrKTtcclxuXHJcblx0XHRjb25zdCB0YXNrc1N0YXR1cyA9IGN1cnJUYXNrLnF1ZXJ5U2VsZWN0b3IoXCIudGFza3NfX3N0YXR1c1wiKTtcclxuXHRcdHRhc2tzVGFyZ2V0LnRleHRDb250ZW50ID0gYCR7dGFza1Byb2dyZXNzTnVtfSAvICR7dGFza3NOdW19YDtcclxuXHRcdGhpZGVUYXJnZXQodGFza3NUYXJnZXQpO1xyXG5cdFx0c2hvd0lmQ2hlY2tlZCh0YXNrc1N0YXR1cyk7XHJcblx0fTtcclxuXHRjb25zdCBoaWRlVGFyZ2V0ID0gKHRhc2tzVGFyZ2V0KSA9PiB7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGFza3NUYXJnZXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdH0sIDMwMCk7XHJcblx0fTtcclxuXHRjb25zdCBzaG93SWZDaGVja2VkID0gKHRhc2tzU3RhdHVzKSA9PiB7XHJcblx0XHRjb25zdCBjaGVja0ljb24gPSB0YXNrc1N0YXR1cy5xdWVyeVNlbGVjdG9yKFwiaVwiKTtcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjaGVja0ljb24uY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0XHR9LCA2MDApO1xyXG5cdH07XHJcblx0Y29uc3QgdXBkYXRlVGFza051bWJlciA9IChjdXJyVGFzaykgPT4ge1xyXG5cdFx0bGV0IG51bSA9IGN1cnJUYXNrLmRhdGFzZXQubnVtYmVyO1xyXG5cdFx0bnVtKys7XHJcblx0XHRjdXJyVGFzay5kYXRhc2V0Lm51bWJlciA9IG51bTtcclxuXHRcdHJldHVybiBudW07XHJcblx0fTtcclxuXHJcblx0Ly8gRU5EIG9mIFRBU0tTIE1BTkFHRVJcclxuXHJcblx0Ly8gRk9STSBWQUxJREFUSU9OXHJcblx0Y29uc3QgaGFuZGxlSW5wdXRzID0gKGUpID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGNoZWNrSWZFbXB0eSgpO1xyXG5cdH07XHJcblx0Y29uc3QgY2hlY2tJZkVtcHR5ID0gKCkgPT4ge1xyXG5cdFx0bG9naW5JbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRcdFx0aWYgKCFpbnB1dC52YWx1ZS50cmltKCkpIHtcclxuXHRcdFx0XHRlcnJvcnJJbmZvLnRleHRDb250ZW50ID0gXCJDb21wbGV0ZSBhbGwgZmllbGRzXCI7XHJcblx0XHRcdFx0YWRkRXJyb3IoaW5wdXQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yckluZm8udGV4dENvbnRlbnQgPSBcIlwiO1xyXG5cdFx0XHRcdHJlbW92ZUVycm9yKGlucHV0KTtcclxuXHRcdFx0XHRjaGVja0lucHV0KHVzZXJuYW1lSW5wdXQsIFVTRVJOQU1FKTtcclxuXHRcdFx0XHRjaGVja0lucHV0KHBhc3N3b3JkSW5wdXQsIFBBU1NXT1JEKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRzZWFyY2hGb3JFcnJvcnMoKTtcclxuXHR9O1xyXG5cdGNvbnN0IGNoZWNrSW5wdXQgPSAoaW5wdXQsIGNvbmRpdGlvbikgPT4ge1xyXG5cdFx0aWYgKGlucHV0LnZhbHVlICE9PSBjb25kaXRpb24pIHtcclxuXHRcdFx0ZXJyb3JySW5mby50ZXh0Q29udGVudCA9IFwiV3JvbmcgdXNlcm5hbWUgb3IgcGFzc3dvcmRcIjtcclxuXHRcdFx0YWRkRXJyb3IoaW5wdXQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZXJyb3JySW5mby50ZXh0Q29udGVudCA9IFwiXCI7XHJcblx0XHRcdHJlbW92ZUVycm9yKHVzZXJuYW1lSW5wdXQpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGFkZEVycm9yID0gKGlucHV0KSA9PiB7XHJcblx0XHRpbnB1dC5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XHJcblx0fTtcclxuXHRjb25zdCByZW1vdmVFcnJvciA9IChpbnB1dCkgPT4ge1xyXG5cdFx0aW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xyXG5cdH07XHJcblx0bGV0IHNlbmRpbmcgPSBmYWxzZTtcclxuXHRjb25zdCBzZWFyY2hGb3JFcnJvcnMgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBoYXNFcnJvciA9IEFycmF5LmZyb20obG9naW5JbnB1dHMpLnNvbWUoKGVsKSA9PlxyXG5cdFx0XHRlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJlcnJvclwiKVxyXG5cdFx0KTtcclxuXHRcdGNvbnNvbGUubG9nKGhhc0Vycm9yKTtcclxuXHRcdGlmIChzZW5kaW5nKSByZXR1cm47XHJcblxyXG5cdFx0aWYgKCFoYXNFcnJvcikge1xyXG5cdFx0XHRzZW5kaW5nID0gdHJ1ZTtcclxuXHRcdFx0bG9naW5Vc2VyKCk7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRzZW5kaW5nID0gZmFsc2U7XHJcblx0XHRcdH0sIDEwMDApO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Y29uc3QgbG9naW5Vc2VyID0gKCkgPT4ge1xyXG5cdFx0ZGFzaGJvYXJkLnN0eWxlLmRpc3BsYXkgPSBcImdyaWRcIjtcclxuXHRcdGxvZ2luUGFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0fTtcclxuXHQvLyBFTkQgT0YgRk9STSBWQUxJREFUSU9OXHJcblxyXG5cdGNvbnN0IGNyZWF0ZU5vdGlmaWNhdGlvbnMgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBub3RpZmljYXRpb25zQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFwiLm5vdGlmaWNhdGlvbnMtYm94X19ib2R5XCJcclxuXHRcdCk7XHJcblx0XHRjb25zdCBhcnIgPSBbXTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5vdGlmaWNhdGlvbnNEYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IG51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5vdGlmaWNhdGlvbnNEYXRhLmxlbmd0aCk7XHJcblx0XHRcdGlmIChudW0gIT09IDApIHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdGJlbGxEb3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0XHRcdFx0fSwgMzAwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRiZWxsRG90LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChhcnIuaW5jbHVkZXMobnVtKSkgcmV0dXJuO1xyXG5cdFx0XHRhcnIucHVzaChudW0pO1xyXG5cdFx0XHRjb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbnMtYm94X19ub3RpZmljYXRpb25cIik7XHJcblxyXG5cdFx0XHRub3RpZmljYXRpb24uaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb25zLWJveF9faGVhZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJub3RpZmljYXRpb25zLWJveF9faGVhZGVyXCI+JHtub3RpZmljYXRpb25zRGF0YVtudW1dLm1lc3NhZ2V9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJub3RpZmljYXRpb25zLWJveF9fdGltZVwiPiR7bm90aWZpY2F0aW9uc0RhdGFbbnVtXS50aW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibm90aWZpY2F0aW9ucy1ib3hfX2F1dGhvclwiPiR7bm90aWZpY2F0aW9uc0RhdGFbbnVtXS5mcm9tfTwvcD5gO1xyXG5cclxuXHRcdFx0bm90aWZpY2F0aW9uc0JvZHkuYXBwZW5kKG5vdGlmaWNhdGlvbik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3QgaGFuZGxlUmluZ1N0YXRzID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgcmluZ3MgPSBbXHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3MtcmluZ19fcHJvZ3Jlc3NcIiksXHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3MtcmluZ19fcHJvZ3Jlc3MtYmdcIiksXHJcblx0XHRdO1xyXG5cdFx0Y29uc3QgZWFybmluZ3MgPSBwYXJzZUZsb2F0KFxyXG5cdFx0XHRkb2N1bWVudFxyXG5cdFx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiLnByb2dyZXNzLXJpbmcgdHNwYW46Zmlyc3Qtb2YtdHlwZVwiKVxyXG5cdFx0XHRcdC50ZXh0Q29udGVudC5yZXBsYWNlKFwiLFwiLCBcIi5cIilcclxuXHRcdFx0XHQuc2xpY2UoMSwgLTEpXHJcblx0XHQpO1xyXG5cdFx0Y29uc3QgZGVzdGlueSA9IHBhcnNlRmxvYXQoXHJcblx0XHRcdGRvY3VtZW50XHJcblx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3MtcmluZyB0c3BhbjpsYXN0LW9mLXR5cGVcIilcclxuXHRcdFx0XHQudGV4dENvbnRlbnQucmVwbGFjZShcIixcIiwgXCIuXCIpXHJcblx0XHRcdFx0LnNsaWNlKDMsIC0xKVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IGVhcm5pbmdzUGVyY2VudGFnZSA9IChlYXJuaW5ncyAvIGRlc3RpbnkpLnRvRml4ZWQoNSk7XHJcblx0XHRjb25zdCBmaW5hbE9mZnNldCA9IE1hdGguZmxvb3IoQ0lSQ0xFX0RBU0hBUlIgKiAoMSAtIGVhcm5pbmdzUGVyY2VudGFnZSkpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRyaW5ncy5mb3JFYWNoKChyaW5nKSA9PiB7XHJcblx0XHRcdFx0cmluZy5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gZmluYWxPZmZzZXQ7XHJcblx0XHRcdFx0cmluZy5zdHlsZS5zdHJva2VXaWR0aCA9IDY7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgMTAwKTtcclxuXHR9O1xyXG5cdGNvbnN0IGJ0bkNsaWNrQW5pbWF0aW9uID0gKGUpID0+IHtcclxuXHRcdGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0Y2lyY2xlLmNsYXNzTGlzdC5hZGQoXCJjaXJjbGVcIik7XHJcblxyXG5cdFx0Y29uc3QgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuXHRcdGNvbnN0IHRvcCA9IGUuY2xpZW50WSAtIHJlY3QudG9wICsgXCJweFwiO1xyXG5cdFx0Y29uc3QgbGVmdCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdCArIFwicHhcIjtcclxuXHJcblx0XHRjaXJjbGUuc3R5bGUudG9wID0gdG9wO1xyXG5cdFx0Y2lyY2xlLnN0eWxlLmxlZnQgPSBsZWZ0O1xyXG5cclxuXHRcdGUudGFyZ2V0LmFwcGVuZChjaXJjbGUpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjaXJjbGUucmVtb3ZlKCk7XHJcblx0XHR9LCAzMDApO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGNyZWF0ZUNvbHVtbnMgPSAoKSA9PiB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1vbnRocy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRjb25zdCBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRjb25zdCBtb250aE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuXHRcdFx0Y29uc3QgdG9vbHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblxyXG5cdFx0XHRib3guY2xhc3NMaXN0LmFkZChcInN0YXRpc3RpY3NfX2JveFwiKTtcclxuXHRcdFx0bW9udGhOYW1lLmNsYXNzTGlzdC5hZGQoXCJzdGF0aXN0aWNzX19tb250aFwiKTtcclxuXHRcdFx0Y29sdW1uLmNsYXNzTGlzdC5hZGQoXCJzdGF0aXN0aWNzX19jb2x1bW5cIik7XHJcblx0XHRcdHRvb2x0aXAuY2xhc3NMaXN0LmFkZChcInN0YXRpc3RpY3NfX3Rvb2x0aXBcIik7XHJcblxyXG5cdFx0XHRjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4MCArIDIwKTtcclxuXHRcdFx0dG9vbHRpcC50ZXh0Q29udGVudCA9IGBUb3RhbCByZXZlbnVlOiAkJHtyYW5kb21OdW1iZXJ9MDBgO1xyXG5cdFx0XHR0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG5cclxuXHRcdFx0bW9udGhOYW1lLnRleHRDb250ZW50ID0gbW9udGhzW2ldO1xyXG5cclxuXHRcdFx0Ym94LmFwcGVuZChjb2x1bW4pO1xyXG5cdFx0XHRib3guYXBwZW5kKHRvb2x0aXApO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0Y29sdW1uLnN0eWxlLmhlaWdodCA9IHJhbmRvbU51bWJlciArIFwicHhcIjtcclxuXHRcdFx0fSwgMTAwKTtcclxuXHJcblx0XHRcdGJveC5hcHBlbmQobW9udGhOYW1lKTtcclxuXHRcdFx0Y2hhcnQuYXBwZW5kKGJveCk7XHJcblxyXG5cdFx0XHRoYW5kbGVUb29sdGlwcyhjb2x1bW4sIHRvb2x0aXApO1xyXG5cdFx0fVxyXG5cdFx0Y3JlYXRlTm90aWZpY2F0aW9ucygpO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGhhbmRsZVRvb2x0aXBzID0gKGNvbHVtbiwgdG9vbHRpcCkgPT4ge1xyXG5cdFx0Y29sdW1uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgcG9zaXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMCk7XHJcblx0XHRcdHRvb2x0aXAuc3R5bGUudG9wID0gcG9zaXRpb24gLSBlLmNsaWVudFkgLyAxMCArIFwicHhcIjtcclxuXHRcdFx0dG9vbHRpcC5zdHlsZS5sZWZ0ID0gcG9zaXRpb24gLSBlLmNsaWVudFggLyAxMCArIFwicHhcIjtcclxuXHRcdFx0dG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuXHRcdH0pO1xyXG5cdFx0Y29sdW1uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcclxuXHRcdFx0dG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gMDtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdGhhbmRsZVJpbmdTdGF0cygpO1xyXG5cdGNyZWF0ZUNvbHVtbnMoKTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoXHJcblx0XHRcdCFub3RpZmljYXRpb25zQm94LmNvbnRhaW5zKGUudGFyZ2V0KSAmJlxyXG5cdFx0XHRlLnRhcmdldCAhPT0gbm90aWZpY2F0aW9uc0JlbGwgJiZcclxuXHRcdFx0bm90aWZpY2F0aW9uc0JveC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIilcclxuXHRcdCkge1xyXG5cdFx0XHRoaWRlUGFuZWwobWVzc2FnZXNQYW5lbCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUudGFyZ2V0ICE9PSBoZWFkZXJCdG5zWzBdICYmIGUudGFyZ2V0ICE9PSBzZWFyY2hJbnB1dCkge1xyXG5cdFx0XHRoaWRlU2VhcmNoZXIoKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoXHJcblx0XHRcdGUudGFyZ2V0ICE9PSB0YXNrcyAmJlxyXG5cdFx0XHQhdGFza3MuY29udGFpbnMoZS50YXJnZXQpICYmXHJcblx0XHRcdCFlLnRhcmdldC5tYXRjaGVzKFwiLmhlYWRlcl9fYnRuLS10YXNrc1wiKSAmJlxyXG5cdFx0XHR0YXNrcy5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIilcclxuXHRcdCkge1xyXG5cdFx0XHRoaWRlUGFuZWwodGFza3MpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGlmIChcclxuXHRcdFx0IXVzZXJQYW5lbC5jb250YWlucyhlLnRhcmdldCkgJiZcclxuXHRcdFx0IWUudGFyZ2V0Lm1hdGNoZXMoXCIuaGVhZGVyX19idG4tLXVzZXJcIikgJiZcclxuXHRcdFx0dXNlclBhbmVsLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxyXG5cdFx0KSB7XHJcblx0XHRcdGhpZGVQYW5lbCh1c2VyUGFuZWwpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRjbG9zZUhlYWRlclBhbmVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRoaWRlUGFuZWwobWVzc2FnZXNQYW5lbCk7XHJcblx0fSk7XHJcblx0aGVhZGVyUGFuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUhlYWRlclBhbmVsKTtcclxuXHRsaW5rcy5mb3JFYWNoKChsaW5rKSA9PiBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVOYXZMaW5rcykpO1xyXG5cdHJlcG9ydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYnRuQ2xpY2tBbmltYXRpb24pO1xyXG5cdGxvZ2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBidG5DbGlja0FuaW1hdGlvbik7XHJcblx0bG9naW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUlucHV0cyk7XHJcbn0pO1xyXG4iXX0=

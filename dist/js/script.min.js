document.addEventListener("DOMContentLoaded",function(){function t(e){e.preventDefault(),u.forEach(function(e){return e.classList.remove("active")}),e.target.classList.add("active")}function o(){S.value="",b.forEach(function(e){return e.classList.toggle("btn-moved")}),S.classList.toggle("active")}function n(){p.classList.add("active"),v.classList.remove("visible")}function a(e){e.classList.add("hidden"),e.classList.remove("active"),setTimeout(function(){e.classList.remove("hidden")},300)}function s(){L.classList.toggle("active")}function r(e,o){e.addEventListener("mouseover",function(e){var t=Math.floor(20*Math.random());o.style.top=t-e.clientY/10+"px",o.style.left=t-e.clientX/10+"px",o.style.opacity=1}),e.addEventListener("mouseleave",function(){o.style.opacity=0})}var e,i,c,l=document.querySelector(".statistics__chart"),d=document.querySelector(".report__btn"),u=document.querySelectorAll(".nav__link"),m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=[{message:"Welcome to your dashboard!",time:"1 hour ago",from:"System"},{message:"You have 2 new messages",time:"1 hour ago",from:"Nick J."},{message:"Your report is ready to download",time:"2 hours ago",from:"System"},{message:"First steps in the Dashboard",time:"3 hours ago",from:"Jerry from Dashboard"},{message:"Update: Dashboard v2.1",time:"4 hours ago",from:"System"},{message:"New payment: +$1,200 PayPal",time:"4 hour ago",from:"System"},{message:"The transfer has been completed",time:"4 hours ago",from:"John D"},{message:"Reminder: Rebalance portfolio",time:"5 hours ago",from:"System"},{message:"New: Analytics in PRO!",time:"6 hour ago",from:"Daniel from Dashboard"},{message:"Contact details confirmation",time:"8 hour ago",from:"Support Team"}],p=document.querySelector(".notifications-box"),h=document.querySelector(".header__panel"),g=document.querySelector(".notifications-box__close"),v=document.querySelector(".dot"),_=document.querySelector(".notifications-box"),y=document.querySelector(".header__btn--bell"),b=[document.querySelector(".header__btn--search-engine"),document.querySelector(".header__pro-subscribtion-btn")],L=document.querySelector(".user-panel"),S=document.querySelector(".header__input");e=[document.querySelector(".progress-ring__progress"),document.querySelector(".progress-ring__progress-bg")],i=(parseFloat(document.querySelector(".progress-ring tspan:first-of-type").textContent.replace(",",".").slice(1,-1))/parseFloat(document.querySelector(".progress-ring tspan:last-of-type").textContent.replace(",",".").slice(3,-1))).toFixed(5),c=Math.floor(314*(1-i)),setTimeout(function(){e.forEach(function(e){e.style.strokeDashoffset=c,e.style.strokeWidth=6})},100),(()=>{for(var s=0;s<m.length;s++)(()=>{var e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("span"),n=document.createElement("div"),a=(e.classList.add("statistics__box"),o.classList.add("statistics__month"),t.classList.add("statistics__column"),n.classList.add("statistics__tooltip"),Math.floor(80*Math.random()+20));n.textContent="Total revenue: $".concat(a,"00"),n.style.opacity=0,o.textContent=m[s],e.append(t),e.append(n),setTimeout(function(){t.style.height=a+"px"},100),e.append(o),l.append(e),r(t,n)})();for(var e=document.querySelector(".notifications-box__body"),t=[],o=0;o<f.length;o++){var n=Math.floor(Math.random()*f.length);if(0!==n?setTimeout(function(){v.classList.add("visible")},300):v.classList.remove("visible"),t.includes(n))return;t.push(n);var a=document.createElement("div");a.classList.add("notifications-box__notification"),a.innerHTML='<div class="notifications-box__head">\n                            <span class="notifications-box__header">'.concat(f[n].message,'</span>\n                            <span class="notifications-box__time">').concat(f[n].time,'</span>\n                        </div>\n                        <p class="notifications-box__author">').concat(f[n].from,"</p>"),e.append(a)}})(),window.addEventListener("click",function(e){!_.contains(e.target)&&e.target!==y&&_.classList.contains("active")&&a(p)}),window.addEventListener("click",function(e){e.target!==b[0]&&e.target!==S&&(S.value="",b.forEach(function(e){return e.classList.remove("btn-moved")}),S.classList.remove("active"))}),window.addEventListener("click",function(e){L.contains(e.target)||e.target.matches(".header__btn--user")||!L.classList.contains("active")||a(L)}),g.addEventListener("click",function(){a(p)}),h.addEventListener("click",function(e){e.target.matches(".header__btn--bell")?n():e.target.matches(".header__btn--search-engine")?o():e.target.matches(".header__btn--user")&&s()}),u.forEach(function(e){return e.addEventListener("click",t)}),d.addEventListener("click",function(e){var t=document.createElement("span"),o=(t.classList.add("circle"),e.target.getBoundingClientRect()),n=e.clientY-o.top+"px",o=e.clientX-o.left+"px";t.style.top=n,t.style.left=o,e.target.append(t),setTimeout(function(){t.remove()},300)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVOYXZMaW5rcyIsImUiLCJzZWFyY2hJbnB1dCIsImNsYXNzTGlzdCIsImxpbmtzIiwiZm9yRWFjaCIsImxpbmsiLCJyZW1vdmUiLCJ0YXJnZXQiLCJzaG93TXNnUGFuZWwiLCJhZGQiLCJzaG93VXNlclBhbmVsIiwiaGVhZGVyQnRucyIsImJ0biIsInRvZ2dsZSIsImNyZWF0ZU5vdGlmaWNhdGlvbnMiLCJtZXNzYWdlc1BhbmVsIiwiYmVsbERvdCIsImhpZGVQYW5lbCIsInBhbmVsIiwiaW5jbHVkZXMiLCJhcnIiLCJzZXRUaW1lb3V0Iiwibm90aWZpY2F0aW9uIiwiaW5uZXJIVE1MIiwibm90aWZpY2F0aW9uc0JvZHkiLCJ1c2VyUGFuZWwiLCJoYW5kbGVSaW5nU3RhdHMiLCJoYW5kbGVUb29sdGlwcyIsImNvbHVtbiIsInRvb2x0aXAiLCJwb3NpdGlvbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInN0eWxlIiwidG9wIiwiY2xpZW50WSIsImxlZnQiLCJjbGllbnRYIiwib3BhY2l0eSIsIm1vbnRoTmFtZSIsImVhcm5pbmdzUGVyY2VudGFnZSIsIl9sb29wIiwiY2hhcnQiLCJxdWVyeVNlbGVjdG9yIiwicmVwb3J0QnRuIiwiZnJvbSIsIm1lc3NhZ2UiLCJ0aW1lIiwiaGVhZGVyUGFuZWwiLCJjbG9zZUhlYWRlclBhbmVsQnRuIiwiaGFuZGxlSGVhZGVyUGFuZWwiLCJub3RpZmljYXRpb25zQm94Iiwibm90aWZpY2F0aW9uc0JlbGwiLCJoaWRlU2VhcmNoZXIiLCJ0ZXh0Q29udGVudCIsInNsaWNlIiwiYXBwZW5kIiwidG9GaXhlZCIsIm1hdGNoZXMiLCJyaW5ncyIsInJpbmciLCJjb250YWlucyIsImxlbmd0aCIsImkiLCJib3giLCJjcmVhdGVFbGVtZW50IiwicmFuZG9tTnVtYmVyIiwiY29uY2F0IiwibW9udGhzIiwiaGVpZ2h0IiwiZGVzdGlueSIsInN0cm9rZURhc2hvZmZzZXQiLCJmaW5hbE9mZnNldCIsInN0cm9rZVdpZHRoIiwibm90aWZpY2F0aW9uc0RhdGEiLCJudW0iLCJidG5DbGlja0FuaW1hdGlvbiIsImNpcmNsZSIsInJlY3QiLCJwdXNoIiwid2luZG93IiwidmFsdWUiLCJoYW5kbGVTZWFyY2hJbnB1dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNyZWF0ZUNvbHVtbnMiXSwibWFwcGluZ3MiOiJBQUFBQSxTQUFTQyxpQkFBaUIsbUJBQW9CLFdBMEdrQixTQUFBQyxFQUFBQyxHQXBCOURBLEVBcUJBQyxlQUFZQyxFQUNiQyxFQUFDQyxRQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQUgsVUFBQUksT0FBQSxRQUFBLENBQUEsQ0FBQSxFQUNETixFQUFBTyxPQUFNQyxVQUFlQyxJQUFBLFFBQWZELENBcEJOLENBZ0NzQixTQUFoQkUsSUFyQkxULEVBc0JVQyxNQUFBQSxHQUNYUyxFQUFDUCxRQUFBLFNBQUFRLEdBQUEsT0FBQUEsRUFBQVYsVUFBQVcsT0FBQSxXQUFBLENBQUEsQ0FBQSxFQUNEWixFQUFNYSxVQUFBQSxPQUFzQixRQUF0QkEsQ0FyQk4sQ0ErQllaLFNBekJOTSxJQUNMTyxFQXlCU2IsVUFBQU8sSUFBQSxRQUFBLEVBeEJUTyxFQXlCRWQsVUFBTUksT0FBQSxTQUFBLENBeEJULENBMEJFLFNBQUFXLEVBQUFDLEdBeEJEQSxFQXlCQ2hCLFVBQVFpQixJQUFRLFFBQU8sRUF4QnhCRCxFQXlCQ0UsVUFBWWQsT0FBQyxRQUFBLEVBdkJkZSxXQXlCQ0MsV0F4QkFKLEVBMEJBSSxVQUFhQyxPQUFBQSxRQUFTLENBekJ2QixFQUFHLEdBK0JGQyxDQTlCRixDQWdDQyxTQUFBZCxJQUVEZSxFQUFNQyxVQUFlYixPQUFHLFFBQWxCYSxDQS9CTixDQThHdUIsU0FBakJDLEVBQWtCQyxFQUFRQyxHQUMvQkQsRUFBTzlCLGlCQUFpQixZQUFhLFNBQUNFLEdBQ3JDLElBQU04QixFQUFXQyxLQUFLQyxNQUFzQixHQUFoQkQsS0FBS0Us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UUFuS1ZRLFNBQU1OLEdBQ3hCQSxFQUFBTyxPQUFBb0QsUUFBQSxvQkFBQSxFQUNEbkQsRUFBZSxFQUNSTixFQUFBQSxPQUFVTyxRQUFJLDZCQUFTLEVBcEI1QjBFLEVBcUJlN0UsRUFFaEJlLEVBQVdkLE9BQUFvRCxRQUFNLG9CQUFBLEdBckJoQmpELEVBc0JNUixDQXBCUixDQWdMdUQsRUFDdkRDLEVBQU1DLFFBQVEsU0FBQ0MsR0FBSSxPQUFLQSxFQUFLUCxpQkFBaUIsUUFBU0MsQ0FBYyxDQUFDLENBQUEsRUFDdEU4QyxFQUFVL0MsaUJBQWlCLFFBdENKLFNBQUFFLEdBeER0QixJQXlERThFLEVBQUFqRixTQUFBcUUsY0FBQSxNQUFBLEVBR0FhLEdBM0RGRCxFQXlEQWxELFVBQU85QixJQUFBQSxRQUFpQixFQUV0QkUsRUFBQU8sT0FBQTZFLHNCQUFBLEdBR0gxRCxFQUFBQSxFQUFBQSxRQUFpQnFELEVBQUE1QyxJQUFBLEtBQ2pCa0QsRUFBYXJGLEVBQUVzQyxRQUFBeUMsRUFBQTFDLEtBQUEsS0F4RGR5QyxFQTJERTFCLE1BQUFBLElBQUFBLEVBMURGMEIsRUE4REM3RCxNQUFTb0IsS0FBQ3RCLEVBRVpmLEVBQUVPLE9BQUFrRCxPQUFBcUIsQ0FBQSxFQTVERHpELFdBOERNZCxXQTdETHVFLEVBOERBeEIsT0FBQUEsQ0E3REQsRUE4REEsR0FBQSxDQTdERCxDQThFcUQsQ0FDdEQsQ0FBQyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGNoYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGF0aXN0aWNzX19jaGFydFwiKTtcclxuXHRjb25zdCByZXBvcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlcG9ydF9fYnRuXCIpO1xyXG5cdGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIik7XHJcblx0Y29uc3QgbW9udGhzID0gW1xyXG5cdFx0XCJKYW5cIixcclxuXHRcdFwiRmViXCIsXHJcblx0XHRcIk1hclwiLFxyXG5cdFx0XCJBcHJcIixcclxuXHRcdFwiTWF5XCIsXHJcblx0XHRcIkp1blwiLFxyXG5cdFx0XCJKdWxcIixcclxuXHRcdFwiQXVnXCIsXHJcblx0XHRcIlNlcFwiLFxyXG5cdFx0XCJPY3RcIixcclxuXHRcdFwiTm92XCIsXHJcblx0XHRcIkRlY1wiLFxyXG5cdF07XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uc0RhdGEgPSBbXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiV2VsY29tZSB0byB5b3VyIGRhc2hib2FyZCFcIixcclxuXHRcdFx0dGltZTogXCIxIGhvdXIgYWdvXCIsXHJcblx0XHRcdGZyb206IFwiU3lzdGVtXCIsXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRtZXNzYWdlOiBcIllvdSBoYXZlIDIgbmV3IG1lc3NhZ2VzXCIsXHJcblx0XHRcdHRpbWU6IFwiMSBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIk5pY2sgSi5cIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiWW91ciByZXBvcnQgaXMgcmVhZHkgdG8gZG93bmxvYWRcIixcclxuXHRcdFx0dGltZTogXCIyIGhvdXJzIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJGaXJzdCBzdGVwcyBpbiB0aGUgRGFzaGJvYXJkXCIsXHJcblx0XHRcdHRpbWU6IFwiMyBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJKZXJyeSBmcm9tIERhc2hib2FyZFwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJVcGRhdGU6IERhc2hib2FyZCB2Mi4xXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJTeXN0ZW1cIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiTmV3IHBheW1lbnQ6ICskMSwyMDAgUGF5UGFsXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJUaGUgdHJhbnNmZXIgaGFzIGJlZW4gY29tcGxldGVkXCIsXHJcblx0XHRcdHRpbWU6IFwiNCBob3VycyBhZ29cIixcclxuXHRcdFx0ZnJvbTogXCJKb2huIERcIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdG1lc3NhZ2U6IFwiUmVtaW5kZXI6IFJlYmFsYW5jZSBwb3J0Zm9saW9cIixcclxuXHRcdFx0dGltZTogXCI1IGhvdXJzIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN5c3RlbVwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJOZXc6IEFuYWx5dGljcyBpbiBQUk8hXCIsXHJcblx0XHRcdHRpbWU6IFwiNiBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIkRhbmllbCBmcm9tIERhc2hib2FyZFwiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJDb250YWN0IGRldGFpbHMgY29uZmlybWF0aW9uXCIsXHJcblx0XHRcdHRpbWU6IFwiOCBob3VyIGFnb1wiLFxyXG5cdFx0XHRmcm9tOiBcIlN1cHBvcnQgVGVhbVwiLFxyXG5cdFx0fSxcclxuXHRdO1xyXG5cdGNvbnN0IENJUkNMRV9EQVNIQVJSID0gMzE0O1xyXG5cdGNvbnN0IG1lc3NhZ2VzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnMtYm94XCIpO1xyXG5cdGNvbnN0IGhlYWRlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3BhbmVsXCIpO1xyXG5cdGNvbnN0IGNsb3NlSGVhZGVyUGFuZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIubm90aWZpY2F0aW9ucy1ib3hfX2Nsb3NlXCJcclxuXHQpO1xyXG5cdGNvbnN0IGJlbGxEb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRvdFwiKTtcclxuXHRjb25zdCBub3RpZmljYXRpb25zQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ub3RpZmljYXRpb25zLWJveFwiKTtcclxuXHRjb25zdCBub3RpZmljYXRpb25zQmVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19idG4tLWJlbGxcIik7XHJcblx0Y29uc3QgaGVhZGVyQnRucyA9IFtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19idG4tLXNlYXJjaC1lbmdpbmVcIiksXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fcHJvLXN1YnNjcmlidGlvbi1idG5cIiksXHJcblx0XTtcclxuXHRjb25zdCB1c2VyUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXItcGFuZWxcIik7XHJcblx0Y29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9faW5wdXRcIik7XHJcblx0Y29uc3QgaGFuZGxlTmF2TGlua3MgPSAoZSkgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bGlua3MuZm9yRWFjaCgobGluaykgPT4gbGluay5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblx0fTtcclxuXHRjb25zdCBoYW5kbGVIZWFkZXJQYW5lbCA9IChlKSA9PiB7XHJcblx0XHRpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX2J0bi0tYmVsbFwiKSkge1xyXG5cdFx0XHRzaG93TXNnUGFuZWwoKTtcclxuXHRcdH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5oZWFkZXJfX2J0bi0tc2VhcmNoLWVuZ2luZVwiKSkge1xyXG5cdFx0XHRoYW5kbGVTZWFyY2hJbnB1dCgpO1xyXG5cdFx0fSBlbHNlIGlmIChlLnRhcmdldC5tYXRjaGVzKFwiLmhlYWRlcl9fYnRuLS11c2VyXCIpKSB7XHJcblx0XHRcdHNob3dVc2VyUGFuZWwoKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGNvbnN0IGhhbmRsZVNlYXJjaElucHV0ID0gKCkgPT4ge1xyXG5cdFx0c2VhcmNoSW5wdXQudmFsdWUgPSBcIlwiO1xyXG5cdFx0aGVhZGVyQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYnRuLW1vdmVkXCIpKTtcclxuXHRcdHNlYXJjaElucHV0LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcblx0fTtcclxuXHRjb25zdCBoaWRlU2VhcmNoZXIgPSAoKSA9PiB7XHJcblx0XHRzZWFyY2hJbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHRoZWFkZXJCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJidG4tbW92ZWRcIikpO1xyXG5cdFx0c2VhcmNoSW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuXHR9O1xyXG5cdGNvbnN0IHNob3dNc2dQYW5lbCA9ICgpID0+IHtcclxuXHRcdG1lc3NhZ2VzUGFuZWwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHRcdGJlbGxEb3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcblx0fTtcclxuXHRjb25zdCBoaWRlUGFuZWwgPSAocGFuZWwpID0+IHtcclxuXHRcdHBhbmVsLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHRwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0fSwgMzAwKTtcclxuXHR9O1xyXG5cdGNvbnN0IHNob3dVc2VyUGFuZWwgPSAoKSA9PiB7XHJcblx0XHR1c2VyUGFuZWwuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuXHR9O1xyXG5cdGNvbnN0IGNyZWF0ZU5vdGlmaWNhdGlvbnMgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBub3RpZmljYXRpb25zQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFwiLm5vdGlmaWNhdGlvbnMtYm94X19ib2R5XCJcclxuXHRcdCk7XHJcblx0XHRjb25zdCBhcnIgPSBbXTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5vdGlmaWNhdGlvbnNEYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IG51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5vdGlmaWNhdGlvbnNEYXRhLmxlbmd0aCk7XHJcblx0XHRcdGlmIChudW0gIT09IDApIHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdGJlbGxEb3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0XHRcdFx0fSwgMzAwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRiZWxsRG90LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChhcnIuaW5jbHVkZXMobnVtKSkgcmV0dXJuO1xyXG5cdFx0XHRhcnIucHVzaChudW0pO1xyXG5cdFx0XHRjb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbnMtYm94X19ub3RpZmljYXRpb25cIik7XHJcblxyXG5cdFx0XHRub3RpZmljYXRpb24uaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb25zLWJveF9faGVhZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJub3RpZmljYXRpb25zLWJveF9faGVhZGVyXCI+JHtub3RpZmljYXRpb25zRGF0YVtudW1dLm1lc3NhZ2V9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJub3RpZmljYXRpb25zLWJveF9fdGltZVwiPiR7bm90aWZpY2F0aW9uc0RhdGFbbnVtXS50aW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibm90aWZpY2F0aW9ucy1ib3hfX2F1dGhvclwiPiR7bm90aWZpY2F0aW9uc0RhdGFbbnVtXS5mcm9tfTwvcD5gO1xyXG5cclxuXHRcdFx0bm90aWZpY2F0aW9uc0JvZHkuYXBwZW5kKG5vdGlmaWNhdGlvbik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3QgaGFuZGxlUmluZ1N0YXRzID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgcmluZ3MgPSBbXHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3MtcmluZ19fcHJvZ3Jlc3NcIiksXHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3MtcmluZ19fcHJvZ3Jlc3MtYmdcIiksXHJcblx0XHRdO1xyXG5cdFx0Y29uc3QgZWFybmluZ3MgPSBwYXJzZUZsb2F0KFxyXG5cdFx0XHRkb2N1bWVudFxyXG5cdFx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiLnByb2dyZXNzLXJpbmcgdHNwYW46Zmlyc3Qtb2YtdHlwZVwiKVxyXG5cdFx0XHRcdC50ZXh0Q29udGVudC5yZXBsYWNlKFwiLFwiLCBcIi5cIilcclxuXHRcdFx0XHQuc2xpY2UoMSwgLTEpXHJcblx0XHQpO1xyXG5cdFx0Y29uc3QgZGVzdGlueSA9IHBhcnNlRmxvYXQoXHJcblx0XHRcdGRvY3VtZW50XHJcblx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZ3Jlc3MtcmluZyB0c3BhbjpsYXN0LW9mLXR5cGVcIilcclxuXHRcdFx0XHQudGV4dENvbnRlbnQucmVwbGFjZShcIixcIiwgXCIuXCIpXHJcblx0XHRcdFx0LnNsaWNlKDMsIC0xKVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IGVhcm5pbmdzUGVyY2VudGFnZSA9IChlYXJuaW5ncyAvIGRlc3RpbnkpLnRvRml4ZWQoNSk7XHJcblx0XHRjb25zdCBmaW5hbE9mZnNldCA9IE1hdGguZmxvb3IoQ0lSQ0xFX0RBU0hBUlIgKiAoMSAtIGVhcm5pbmdzUGVyY2VudGFnZSkpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRyaW5ncy5mb3JFYWNoKChyaW5nKSA9PiB7XHJcblx0XHRcdFx0cmluZy5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gZmluYWxPZmZzZXQ7XHJcblx0XHRcdFx0cmluZy5zdHlsZS5zdHJva2VXaWR0aCA9IDY7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgMTAwKTtcclxuXHR9O1xyXG5cdGNvbnN0IGJ0bkNsaWNrQW5pbWF0aW9uID0gKGUpID0+IHtcclxuXHRcdGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0Y2lyY2xlLmNsYXNzTGlzdC5hZGQoXCJjaXJjbGVcIik7XHJcblxyXG5cdFx0Y29uc3QgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuXHRcdGNvbnN0IHRvcCA9IGUuY2xpZW50WSAtIHJlY3QudG9wICsgXCJweFwiO1xyXG5cdFx0Y29uc3QgbGVmdCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdCArIFwicHhcIjtcclxuXHJcblx0XHRjaXJjbGUuc3R5bGUudG9wID0gdG9wO1xyXG5cdFx0Y2lyY2xlLnN0eWxlLmxlZnQgPSBsZWZ0O1xyXG5cclxuXHRcdGUudGFyZ2V0LmFwcGVuZChjaXJjbGUpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjaXJjbGUucmVtb3ZlKCk7XHJcblx0XHR9LCAzMDApO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGNyZWF0ZUNvbHVtbnMgPSAoKSA9PiB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1vbnRocy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRjb25zdCBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRjb25zdCBtb250aE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuXHRcdFx0Y29uc3QgdG9vbHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblxyXG5cdFx0XHRib3guY2xhc3NMaXN0LmFkZChcInN0YXRpc3RpY3NfX2JveFwiKTtcclxuXHRcdFx0bW9udGhOYW1lLmNsYXNzTGlzdC5hZGQoXCJzdGF0aXN0aWNzX19tb250aFwiKTtcclxuXHRcdFx0Y29sdW1uLmNsYXNzTGlzdC5hZGQoXCJzdGF0aXN0aWNzX19jb2x1bW5cIik7XHJcblx0XHRcdHRvb2x0aXAuY2xhc3NMaXN0LmFkZChcInN0YXRpc3RpY3NfX3Rvb2x0aXBcIik7XHJcblxyXG5cdFx0XHRjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4MCArIDIwKTtcclxuXHRcdFx0dG9vbHRpcC50ZXh0Q29udGVudCA9IGBUb3RhbCByZXZlbnVlOiAkJHtyYW5kb21OdW1iZXJ9MDBgO1xyXG5cdFx0XHR0b29sdGlwLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG5cclxuXHRcdFx0bW9udGhOYW1lLnRleHRDb250ZW50ID0gbW9udGhzW2ldO1xyXG5cclxuXHRcdFx0Ym94LmFwcGVuZChjb2x1bW4pO1xyXG5cdFx0XHRib3guYXBwZW5kKHRvb2x0aXApO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0Y29sdW1uLnN0eWxlLmhlaWdodCA9IHJhbmRvbU51bWJlciArIFwicHhcIjtcclxuXHRcdFx0fSwgMTAwKTtcclxuXHJcblx0XHRcdGJveC5hcHBlbmQobW9udGhOYW1lKTtcclxuXHRcdFx0Y2hhcnQuYXBwZW5kKGJveCk7XHJcblxyXG5cdFx0XHRoYW5kbGVUb29sdGlwcyhjb2x1bW4sIHRvb2x0aXApO1xyXG5cdFx0fVxyXG5cdFx0Y3JlYXRlTm90aWZpY2F0aW9ucygpO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGhhbmRsZVRvb2x0aXBzID0gKGNvbHVtbiwgdG9vbHRpcCkgPT4ge1xyXG5cdFx0Y29sdW1uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgcG9zaXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMCk7XHJcblx0XHRcdHRvb2x0aXAuc3R5bGUudG9wID0gcG9zaXRpb24gLSBlLmNsaWVudFkgLyAxMCArIFwicHhcIjtcclxuXHRcdFx0dG9vbHRpcC5zdHlsZS5sZWZ0ID0gcG9zaXRpb24gLSBlLmNsaWVudFggLyAxMCArIFwicHhcIjtcclxuXHRcdFx0dG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuXHRcdH0pO1xyXG5cdFx0Y29sdW1uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcclxuXHRcdFx0dG9vbHRpcC5zdHlsZS5vcGFjaXR5ID0gMDtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdGhhbmRsZVJpbmdTdGF0cygpO1xyXG5cdGNyZWF0ZUNvbHVtbnMoKTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoXHJcblx0XHRcdCFub3RpZmljYXRpb25zQm94LmNvbnRhaW5zKGUudGFyZ2V0KSAmJlxyXG5cdFx0XHRlLnRhcmdldCAhPT0gbm90aWZpY2F0aW9uc0JlbGwgJiZcclxuXHRcdFx0bm90aWZpY2F0aW9uc0JveC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIilcclxuXHRcdCkge1xyXG5cdFx0XHRoaWRlUGFuZWwobWVzc2FnZXNQYW5lbCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUudGFyZ2V0ICE9PSBoZWFkZXJCdG5zWzBdICYmIGUudGFyZ2V0ICE9PSBzZWFyY2hJbnB1dCkge1xyXG5cdFx0XHRoaWRlU2VhcmNoZXIoKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoXHJcblx0XHRcdCF1c2VyUGFuZWwuY29udGFpbnMoZS50YXJnZXQpICYmXHJcblx0XHRcdCFlLnRhcmdldC5tYXRjaGVzKFwiLmhlYWRlcl9fYnRuLS11c2VyXCIpICYmXHJcblx0XHRcdHVzZXJQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIilcclxuXHRcdCkge1xyXG5cdFx0XHRoaWRlUGFuZWwodXNlclBhbmVsKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0Y2xvc2VIZWFkZXJQYW5lbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0aGlkZVBhbmVsKG1lc3NhZ2VzUGFuZWwpO1xyXG5cdH0pO1xyXG5cdGhlYWRlclBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVIZWFkZXJQYW5lbCk7XHJcblx0bGlua3MuZm9yRWFjaCgobGluaykgPT4gbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTmF2TGlua3MpKTtcclxuXHRyZXBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJ0bkNsaWNrQW5pbWF0aW9uKTtcclxufSk7XHJcbiJdfQ==
